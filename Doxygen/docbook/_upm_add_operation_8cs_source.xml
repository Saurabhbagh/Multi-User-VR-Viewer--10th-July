<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__upm_add_operation_8cs_source">
<title>UpmAddOperation.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Library/PackageCache/com.unity.package-manager-ui@2.0.7/Editor/Sources/Services/Upm/UpmAddOperation.cs</primary></indexterm>
<programlisting>00001 <emphasis role="keyword">using</emphasis>&#32;System;
00002 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_editor">UnityEditor</link>.<link linkend="_namespace_unity_editor_1_1_package_manager">PackageManager</link>.Requests;
00003 <emphasis role="keyword">using</emphasis>&#32;System.Linq;
00004 
00005 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_unity_editor_1_1_package_manager_1_1_u_i">UnityEditor.PackageManager.UI</link>
00006 {
<anchor xml:id="__upm_add_operation_8cs_source_1l00007"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_add_operation">00007</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">internal</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_add_operation">UpmAddOperation</link>&#32;:&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_base_operation">UpmBaseOperation</link>,&#32;<link linkend="_interface_unity_editor_1_1_package_manager_1_1_u_i_1_1_i_add_operation">IAddOperation</link>
00008 &#32;&#32;&#32;&#32;{
<anchor xml:id="__upm_add_operation_8cs_source_1l00009"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_add_operation_1a9ea676c65a0212e075b541ee3fd64c70">00009</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_info">PackageInfo</link>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_info">PackageInfo</link>&#32;{&#32;<emphasis role="keyword">get</emphasis>;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">set</emphasis>;&#32;}
00010 
<anchor xml:id="__upm_add_operation_8cs_source_1l00011"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_add_operation_1a291a66dd365a5e5afc3ab716b8e94288">00011</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">event</emphasis>&#32;Action&lt;PackageInfo&gt;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_add_operation_1a291a66dd365a5e5afc3ab716b8e94288">OnOperationSuccess</link>&#32;=&#32;delegate&#32;{&#32;};
00012 
<anchor xml:id="__upm_add_operation_8cs_source_1l00013"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_add_operation_1ae93614e9b995f7c8fcf0456c38be1cdd">00013</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_add_operation_1ae93614e9b995f7c8fcf0456c38be1cdd">AddPackageAsync</link>(<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_info">PackageInfo</link>&#32;packageInfo,&#32;Action&lt;PackageInfo&gt;&#32;doneCallbackAction&#32;=&#32;<emphasis role="keyword">null</emphasis>,&#32;Action&lt;Error&gt;&#32;errorCallbackAction&#32;=&#32;<emphasis role="keyword">null</emphasis>)
00014 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00015 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_info">PackageInfo</link>&#32;=&#32;packageInfo;
00016 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_base_operation_1af1ff89f0295369d7a9ae7e0987451b1d">OnOperationError</link>&#32;+=&#32;errorCallbackAction;
00017 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_add_operation_1a291a66dd365a5e5afc3ab716b8e94288">OnOperationSuccess</link>&#32;+=&#32;doneCallbackAction;
00018 
00019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_base_operation_1ab1e89a04a3d2d224c3e167fc9d42092d">Start</link>();
00020 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00021 
<anchor xml:id="__upm_add_operation_8cs_source_1l00022"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_add_operation_1a5b4cbf090d82606a14caf9fd90ccd0c0">00022</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">override</emphasis>&#32;Request&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_add_operation_1a5b4cbf090d82606a14caf9fd90ccd0c0">CreateRequest</link>()
00023 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;Client.Add(<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_info">PackageInfo</link>.<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_info_1aa3c77ff26735bd5d9af2da563eddd4c5">PackageId</link>);
00025 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00026 
<anchor xml:id="__upm_add_operation_8cs_source_1l00027"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_add_operation_1afcf098692ff87d8f0b657a5c52e165b2">00027</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">override</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_add_operation_1afcf098692ff87d8f0b657a5c52e165b2">ProcessData</link>()
00028 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00029 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;request&#32;=&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_base_operation_1afd2e01e03363616313513a57f74211d8">CurrentRequest</link>&#32;as&#32;AddRequest;
00030 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;<emphasis role="keyword">package&#32;</emphasis>=&#32;FromUpmPackageInfo(request.Result).First();
00031 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_upm_add_operation_1a291a66dd365a5e5afc3ab716b8e94288">OnOperationSuccess</link>(package);
00032 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00033 &#32;&#32;&#32;&#32;}
00034 }
</programlisting></section>
