<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__t_m_p___ui_editor_panel_8cs_source">
<title>TMP_UiEditorPanel.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Library/PackageCache/com.unity.textmeshpro@1.3.0/Scripts/Editor/TMP_UiEditorPanel.cs</primary></indexterm>
<programlisting>00001 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00002 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_engine">UnityEngine</link>.UI;
00003 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_editor">UnityEditor</link>;
00004 
00005 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_t_m_pro_1_1_editor_utilities">TMPro.EditorUtilities</link>
00006 {
00007 
00008 &#32;&#32;&#32;&#32;[CustomEditor(typeof(TextMeshProUGUI)),&#32;CanEditMultipleObjects]
<anchor xml:id="__t_m_p___ui_editor_panel_8cs_source_1l00009"/><link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___ui_editor_panel">00009</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___ui_editor_panel">TMP_UiEditorPanel</link>&#32;:&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel">TMP_BaseEditorPanel</link>
00010 &#32;&#32;&#32;&#32;{
00011 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">static</emphasis>&#32;readonly&#32;GUIContent&#32;k_RaycastTargetLabel&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;GUIContent(<emphasis role="stringliteral">&quot;Raycast&#32;Target&quot;</emphasis>,&#32;<emphasis role="stringliteral">&quot;Whether&#32;the&#32;text&#32;blocks&#32;raycasts&#32;from&#32;the&#32;Graphic&#32;Raycaster.&quot;</emphasis>);
00012 
00013 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SerializedProperty&#32;m_RaycastTargetProp;
00014 
<anchor xml:id="__t_m_p___ui_editor_panel_8cs_source_1l00015"/><link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___ui_editor_panel_1a24f0d3266f3db540b638e349e29793d9">00015</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">override</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___ui_editor_panel_1a24f0d3266f3db540b638e349e29793d9">OnEnable</link>()
00016 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00017 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;base.OnEnable();
00018 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_RaycastTargetProp&#32;=&#32;serializedObject.FindProperty(<emphasis role="stringliteral">&quot;m_RaycastTarget&quot;</emphasis>);
00019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00020 
<anchor xml:id="__t_m_p___ui_editor_panel_8cs_source_1l00021"/><link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___ui_editor_panel_1afa90d67bac7a60cd53401d2c8ed35de9">00021</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">override</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___ui_editor_panel_1afa90d67bac7a60cd53401d2c8ed35de9">DrawExtraSettings</link>()
00022 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00023 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1_1_foldout">Foldout</link>.<link linkend="_struct_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1_1_foldout_1aadab285b4225824d5dad2c72c9670a23">extraSettings</link>&#32;=&#32;EditorGUILayout.Foldout(<link linkend="_struct_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1_1_foldout">Foldout</link>.<link linkend="_struct_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1_1_foldout_1aadab285b4225824d5dad2c72c9670a23">extraSettings</link>,&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1a578f5582bd20131144ec9ccc6abbce3a">k_ExtraSettingsLabel</link>,&#32;<emphasis role="keyword">true</emphasis>,&#32;TMP_UIStyleManager.boldFoldout);
00024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_struct_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1_1_foldout">Foldout</link>.<link linkend="_struct_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1_1_foldout_1aadab285b4225824d5dad2c72c9670a23">extraSettings</link>)
00025 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00026 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;EditorGUI.indentLevel&#32;+=&#32;1;
00027 
00028 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1abbf85a27920dd905ebe05c05c8bc0af8">DrawMargins</link>();
00029 
00030 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1a585170858dbbb92e0e09828c06798fc0">DrawGeometrySorting</link>();
00031 
00032 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1ab0c714c3b42cc58446443353f51f54c5">DrawRichText</link>();
00033 
00034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___ui_editor_panel_1adfa317e4e0f2ad1b0dc1c9b116e4cfb7">DrawRaycastTarget</link>();
00035 
00036 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1a26fbb356584983194be6c3251088d033">DrawParsing</link>();
00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
00038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1a7a801b12cf3a9d08b0a2c19e450b3713">DrawKerning</link>();
00039 
00040 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1ac66e725c1c635a3c2c301bc3f741f8b8">DrawPadding</link>();
00041 
00042 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;EditorGUI.indentLevel&#32;-=&#32;1;
00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00044 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00045 
<anchor xml:id="__t_m_p___ui_editor_panel_8cs_source_1l00046"/><link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___ui_editor_panel_1adfa317e4e0f2ad1b0dc1c9b116e4cfb7">00046</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___ui_editor_panel_1adfa317e4e0f2ad1b0dc1c9b116e4cfb7">DrawRaycastTarget</link>()
00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;EditorGUI.BeginChangeCheck();
00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;EditorGUILayout.PropertyField(m_RaycastTargetProp,&#32;k_RaycastTargetLabel);
00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(EditorGUI.EndChangeCheck())
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00052 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Change&#32;needs&#32;to&#32;propagate&#32;to&#32;the&#32;child&#32;sub&#32;objects.</emphasis>
00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Graphic[]&#32;graphicComponents&#32;=&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1ae2eb5a3fd11e8afb676258b7e6907cad">m_TextComponent</link>.GetComponentsInChildren&lt;Graphic&gt;();
00054 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;1;&#32;i&#32;&lt;&#32;graphicComponents.Length;&#32;i++)
00055 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;graphicComponents[i].raycastTarget&#32;=&#32;m_RaycastTargetProp.boolValue;
00056 
00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1abbd15aa0e10736b4a9e47dfaa0df9c73">m_HavePropertiesChanged</link>&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00058 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00060 
00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Method&#32;to&#32;handle&#32;multi&#32;object&#32;selection</emphasis>
<anchor xml:id="__t_m_p___ui_editor_panel_8cs_source_1l00062"/><link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___ui_editor_panel_1abfd7483420d93f260bd25c932613f6db">00062</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">override</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___ui_editor_panel_1abfd7483420d93f260bd25c932613f6db">IsMixSelectionTypes</link>()
00063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;GameObject[]&#32;objects&#32;=&#32;Selection.gameObjects;
00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(objects.Length&#32;&gt;&#32;1)
00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;objects.Length;&#32;i++)
00068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(objects[i].GetComponent&lt;TextMeshProUGUI&gt;()&#32;==&#32;<emphasis role="keyword">null</emphasis>)
00070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
00071 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
00074 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__t_m_p___ui_editor_panel_8cs_source_1l00075"/><link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___ui_editor_panel_1ae144f22de63b6a77615fde93e9b047a7">00075</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">override</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___ui_editor_panel_1ae144f22de63b6a77615fde93e9b047a7">OnUndoRedo</link>()
00076 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00077 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;undoEventId&#32;=&#32;Undo.GetCurrentGroup();
00078 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;lastUndoEventId&#32;=&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1a0e4526b6887383493c626fa6810560fe">s_EventId</link>;
00079 
00080 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(undoEventId&#32;!=&#32;lastUndoEventId)
00081 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00082 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;targets.Length;&#32;i++)
00083 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00084 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//Debug.Log(&quot;Undo&#32;&amp;&#32;Redo&#32;Performed&#32;detected&#32;in&#32;Editor&#32;Panel.&#32;Event&#32;ID:&quot;&#32;+&#32;Undo.GetCurrentGroup());</emphasis>
00085 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TMPro_EventManager.ON_TEXTMESHPRO_UGUI_PROPERTY_CHANGED(<emphasis role="keyword">true</emphasis>,&#32;targets[i]&#32;as&#32;<link linkend="_class_t_m_pro_1_1_text_mesh_pro_u_g_u_i">TextMeshProUGUI</link>);
00086 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___base_editor_panel_1a0e4526b6887383493c626fa6810560fe">s_EventId</link>&#32;=&#32;undoEventId;
00087 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00088 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00089 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00090 &#32;&#32;&#32;&#32;}
00091 }
</programlisting></section>
