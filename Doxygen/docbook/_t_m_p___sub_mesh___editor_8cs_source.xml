<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__t_m_p___sub_mesh___editor_8cs_source">
<title>TMP_SubMesh_Editor.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Library/PackageCache/com.unity.textmeshpro@1.3.0/Scripts/Editor/TMP_SubMesh_Editor.cs</primary></indexterm>
<programlisting>00001 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00002 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_editor">UnityEditor</link>;
00003 <emphasis role="keyword">using</emphasis>&#32;System.Collections;
00004 
00005 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_t_m_pro_1_1_editor_utilities">TMPro.EditorUtilities</link>
00006 {
00007 &#32;&#32;&#32;&#32;[CustomEditor(typeof(TMP_SubMesh)),&#32;CanEditMultipleObjects]
<anchor xml:id="__t_m_p___sub_mesh___editor_8cs_source_1l00008"/><link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___sub_mesh___editor">00008</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___sub_mesh___editor">TMP_SubMesh_Editor</link>&#32;:&#32;Editor
00009 &#32;&#32;&#32;&#32;{
00010 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>m_foldout
00011 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{&#32;<emphasis role="comment">//&#32;Track&#32;Inspector&#32;foldout&#32;panel&#32;states,&#32;globally.</emphasis>
00012 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//public&#32;static&#32;bool&#32;textInput&#32;=&#32;true;</emphasis>
00013 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;fontSettings&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00014 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//public&#32;static&#32;bool&#32;extraSettings&#32;=&#32;false;</emphasis>
00015 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//public&#32;static&#32;bool&#32;shadowSetting&#32;=&#32;false;</emphasis>
00016 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//public&#32;static&#32;bool&#32;materialEditor&#32;=&#32;true;</emphasis>
00017 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00018 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
00019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;SerializedProperty&#32;fontAsset_prop;
00020 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;SerializedProperty&#32;spriteAsset_prop;
00021 
00022 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh">TMP_SubMesh</link>&#32;m_SubMeshComponent;
00023 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Renderer&#32;m_Renderer;
00024 
<anchor xml:id="__t_m_p___sub_mesh___editor_8cs_source_1l00025"/><link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___sub_mesh___editor_1a7a75efaf6f5dc34a8d2f47c75559c13e">00025</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___sub_mesh___editor_1a7a75efaf6f5dc34a8d2f47c75559c13e">OnEnable</link>()
00026 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00027 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fontAsset_prop&#32;=&#32;serializedObject.FindProperty(<emphasis role="stringliteral">&quot;m_fontAsset&quot;</emphasis>);
00028 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;spriteAsset_prop&#32;=&#32;serializedObject.FindProperty(<emphasis role="stringliteral">&quot;m_spriteAsset&quot;</emphasis>);
00029 
00030 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_SubMeshComponent&#32;=&#32;target&#32;as&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh">TMP_SubMesh</link>;
00031 
00032 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_Renderer&#32;=&#32;m_SubMeshComponent.<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a5eebffcd056afe0d3be79f30d611d780">renderer</link>;
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00034 
00035 
<anchor xml:id="__t_m_p___sub_mesh___editor_8cs_source_1l00036"/><link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___sub_mesh___editor_1add035dbc8fab6591f58aab5801dad898">00036</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">override</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_editor_utilities_1_1_t_m_p___sub_mesh___editor_1add035dbc8fab6591f58aab5801dad898">OnInspectorGUI</link>()
00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;EditorGUI.indentLevel&#32;=&#32;0;
00039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
00040 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;GUI.enabled&#32;=&#32;<emphasis role="keyword">false</emphasis>;
00041 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;EditorGUILayout.PropertyField(fontAsset_prop);
00042 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;EditorGUILayout.PropertyField(spriteAsset_prop);
00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;GUI.enabled&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00044 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;EditorGUI.BeginChangeCheck();
00046 
00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;SORTING&#32;LAYERS</emphasis>
00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;sortingLayerNames&#32;=&#32;SortingLayerHelper.sortingLayerNames;
00049 
00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Look&#32;up&#32;the&#32;layer&#32;name&#32;using&#32;the&#32;current&#32;layer&#32;ID</emphasis>
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">string</emphasis>&#32;oldName&#32;=&#32;SortingLayerHelper.GetSortingLayerNameFromID(m_Renderer.sortingLayerID);
00052 
00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Use&#32;the&#32;name&#32;to&#32;look&#32;up&#32;our&#32;array&#32;index&#32;into&#32;the&#32;names&#32;list</emphasis>
00054 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;oldLayerIndex&#32;=&#32;System.Array.IndexOf(sortingLayerNames,&#32;oldName);
00055 
00056 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Show&#32;the&#32;pop-up&#32;for&#32;the&#32;names</emphasis>
00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;newLayerIndex&#32;=&#32;EditorGUILayout.Popup(<emphasis role="stringliteral">&quot;Sorting&#32;Layer&quot;</emphasis>,&#32;oldLayerIndex,&#32;sortingLayerNames);
00058 
00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;If&#32;the&#32;index&#32;changes,&#32;look&#32;up&#32;the&#32;ID&#32;for&#32;the&#32;new&#32;index&#32;to&#32;store&#32;as&#32;the&#32;new&#32;ID</emphasis>
00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(newLayerIndex&#32;!=&#32;oldLayerIndex)
00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//Undo.RecordObject(renderer,&#32;&quot;Edit&#32;Sorting&#32;Layer&quot;);</emphasis>
00063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_Renderer.sortingLayerID&#32;=&#32;SortingLayerHelper.GetSortingLayerIDForIndex(newLayerIndex);
00064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//EditorUtility.SetDirty(renderer);</emphasis>
00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00066 
00067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Expose&#32;the&#32;manual&#32;sorting&#32;order</emphasis>
00068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;newSortingLayerOrder&#32;=&#32;EditorGUILayout.IntField(<emphasis role="stringliteral">&quot;Order&#32;in&#32;Layer&quot;</emphasis>,&#32;m_Renderer.sortingOrder);
00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(newSortingLayerOrder&#32;!=&#32;m_Renderer.sortingOrder)
00070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00071 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//Undo.RecordObject(renderer,&#32;&quot;Edit&#32;Sorting&#32;Order&quot;);</emphasis>
00072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_Renderer.sortingOrder&#32;=&#32;newSortingLayerOrder;
00073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00074 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00075 &#32;&#32;&#32;&#32;}
00076 }
</programlisting></section>
