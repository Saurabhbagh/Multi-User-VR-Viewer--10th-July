<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__collab_history_drop_down_item_8cs_source">
<title>CollabHistoryDropDownItem.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Library/PackageCache/com.unity.collab-proxy@1.2.15/Editor/Collab/Views/CollabHistoryDropDownItem.cs</primary></indexterm>
<programlisting>00001 <emphasis role="keyword">using</emphasis>&#32;System;
00002 <emphasis role="keyword">using</emphasis>&#32;System.IO;
00003 <emphasis role="keyword">using</emphasis>&#32;System.Linq;
00004 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00005 
00006 <emphasis role="preprocessor">#if&#32;UNITY_2019_1_OR_NEWER</emphasis>
00007 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_engine">UnityEngine</link>.UIElements;
00008 <emphasis role="preprocessor">#else</emphasis>
00009 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_engine">UnityEngine</link>.Experimental.UIElements;
00010 <emphasis role="preprocessor">#endif</emphasis>
00011 
00012 
00013 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_unity_editor_1_1_collaboration">UnityEditor.Collaboration</link>
00014 {
<anchor xml:id="__collab_history_drop_down_item_8cs_source_1l00015"/><link linkend="_class_unity_editor_1_1_collaboration_1_1_collab_history_drop_down_item">00015</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">internal</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_unity_editor_1_1_collaboration_1_1_collab_history_drop_down_item">CollabHistoryDropDownItem</link>&#32;:&#32;VisualElement
00016 &#32;&#32;&#32;&#32;{
<anchor xml:id="__collab_history_drop_down_item_8cs_source_1l00017"/><link linkend="_class_unity_editor_1_1_collaboration_1_1_collab_history_drop_down_item_1a31e592db08f3795eca0048382402da81">00017</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<link linkend="_class_unity_editor_1_1_collaboration_1_1_collab_history_drop_down_item_1a31e592db08f3795eca0048382402da81">CollabHistoryDropDownItem</link>(<emphasis role="keywordtype">string</emphasis>&#32;path,&#32;<emphasis role="keywordtype">string</emphasis>&#32;action)
00018 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;fileName&#32;=&#32;Path.GetFileName(path);
00020 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;isFolder&#32;=&#32;Path.GetFileNameWithoutExtension(path).Equals(fileName);
00021 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;fileIcon&#32;=&#32;GetIconElement(action,&#32;fileName,&#32;isFolder);
00022 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;metaContainer&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;VisualElement();
00023 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;fileNameLabel&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Label
00024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00025 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;name&#32;=&#32;<emphasis role="stringliteral">&quot;FileName&quot;</emphasis>,
00026 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;text&#32;=&#32;fileName
00027 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;};
00028 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;filePathLabel&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Label
00029 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00030 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;name&#32;=&#32;<emphasis role="stringliteral">&quot;FilePath&quot;</emphasis>,
00031 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;text&#32;=&#32;path
00032 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;};
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;metaContainer.Add(fileNameLabel);
00034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;metaContainer.Add(filePathLabel);
00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Add(fileIcon);
00036 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Add(metaContainer);
00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00038 
00039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Image&#32;GetIconElement(<emphasis role="keywordtype">string</emphasis>&#32;action,&#32;<emphasis role="keywordtype">string</emphasis>&#32;fileName,&#32;<emphasis role="keywordtype">bool</emphasis>&#32;isFolder)
00040 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00041 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;prefix&#32;=&#32;isFolder&#32;?&#32;<emphasis role="stringliteral">&quot;Folder&quot;</emphasis>&#32;:&#32;<emphasis role="stringliteral">&quot;File&quot;</emphasis>;
00042 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;actionName&#32;=&#32;action.First().ToString().ToUpper()&#32;+&#32;action.Substring(1);
00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Use&#32;the&#32;same&#32;icon&#32;for&#32;renamed&#32;and&#32;moved&#32;files</emphasis>
00044 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;actionName&#32;=&#32;actionName.Equals(<emphasis role="stringliteral">&quot;Renamed&quot;</emphasis>)&#32;?&#32;<emphasis role="stringliteral">&quot;Moved&quot;</emphasis>&#32;:&#32;actionName;
00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;iconElement&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Image
00046 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;name&#32;=&#32;<emphasis role="stringliteral">&quot;FileIcon&quot;</emphasis>,
00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;image&#32;=&#32;EditorGUIUtility.LoadIcon(<emphasis role="stringliteral">&quot;Icons/Collab.&quot;</emphasis>&#32;+&#32;prefix&#32;+&#32;actionName&#32;+&#32;<emphasis role="stringliteral">&quot;.png&quot;</emphasis>)
00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;};
00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;iconElement;
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00052 &#32;&#32;&#32;&#32;}
00053 }
</programlisting></section>
