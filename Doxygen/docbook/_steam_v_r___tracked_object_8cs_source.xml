<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__steam_v_r___tracked_object_8cs_source">
<title>SteamVR_TrackedObject.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Assets/SteamVR/Scripts/SteamVR_TrackedObject.cs</primary></indexterm>
<programlisting>00001 <emphasis role="comment">//=======&#32;Copyright&#32;(c)&#32;Valve&#32;Corporation,&#32;All&#32;rights&#32;reserved.&#32;===============</emphasis>
00002 <emphasis role="comment">//</emphasis>
00003 <emphasis role="comment">//&#32;Purpose:&#32;For&#32;controlling&#32;in-game&#32;objects&#32;with&#32;tracked&#32;devices.</emphasis>
00004 <emphasis role="comment">//</emphasis>
00005 <emphasis role="comment">//=============================================================================</emphasis>
00006 
00007 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00008 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_valve">Valve</link>.<link linkend="_namespace_valve_1_1_v_r">VR</link>;
00009 
00010 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_valve_1_1_v_r">Valve.VR</link>
00011 {
<anchor xml:id="__steam_v_r___tracked_object_8cs_source_1l00012"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object">00012</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object">SteamVR_TrackedObject</link>&#32;:&#32;MonoBehaviour
00013 &#32;&#32;&#32;&#32;{
<anchor xml:id="__steam_v_r___tracked_object_8cs_source_1l00014"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a3d437894eff0bfc81eeb21a8c478413e">00014</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">enum</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a3d437894eff0bfc81eeb21a8c478413e">EIndex</link>
00015 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00016 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;None&#32;=&#32;-1,
00017 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Hmd&#32;=&#32;(int)<link linkend="_class_valve_1_1_v_r_1_1_open_v_r">OpenVR</link>.<link linkend="_class_valve_1_1_v_r_1_1_open_v_r_1ae12d105c6f832aa4524e2608b26896e0">k_unTrackedDeviceIndex_Hmd</link>,
00018 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device1,
00019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device2,
00020 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device3,
00021 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device4,
00022 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device5,
00023 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device6,
00024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device7,
00025 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device8,
00026 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device9,
00027 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device10,
00028 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device11,
00029 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device12,
00030 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device13,
00031 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device14,
00032 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Device15
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00034 
<anchor xml:id="__steam_v_r___tracked_object_8cs_source_1l00035"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a2a5ca7a8565885adf0cfa2449603f57a">00035</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a3d437894eff0bfc81eeb21a8c478413e">EIndex</link>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a2a5ca7a8565885adf0cfa2449603f57a">index</link>;
00036 
00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[Tooltip(<emphasis role="stringliteral">&quot;If&#32;not&#32;set,&#32;relative&#32;to&#32;parent&quot;</emphasis>)]
<anchor xml:id="__steam_v_r___tracked_object_8cs_source_1l00038"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a2dd40fde31add6c17a4614bda2de241c">00038</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Transform&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a2dd40fde31add6c17a4614bda2de241c">origin</link>;
00039 
<anchor xml:id="__steam_v_r___tracked_object_8cs_source_1l00040"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1aff86155d6bd6cc055201e3be599f3c0e">00040</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1aff86155d6bd6cc055201e3be599f3c0e">isValid</link>&#32;{&#32;<emphasis role="keyword">get</emphasis>;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keyword">set</emphasis>;&#32;}
00041 
00042 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnNewPoses(<link linkend="_struct_valve_1_1_v_r_1_1_tracked_device_pose__t">TrackedDevicePose_t</link>[]&#32;poses)
00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00044 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a2a5ca7a8565885adf0cfa2449603f57a">index</link>&#32;==&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a3d437894eff0bfc81eeb21a8c478413e">EIndex</link>.None)
00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
00046 
00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;i&#32;=&#32;(int)<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a2a5ca7a8565885adf0cfa2449603f57a">index</link>;
00048 
00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1aff86155d6bd6cc055201e3be599f3c0e">isValid</link>&#32;=&#32;<emphasis role="keyword">false</emphasis>;
00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(poses.Length&#32;&lt;=&#32;i)
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
00052 
00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!poses[i].bDeviceIsConnected)
00054 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
00055 
00056 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!poses[i].bPoseIsValid)
00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
00058 
00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1aff86155d6bd6cc055201e3be599f3c0e">isValid</link>&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00060 
00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;pose&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;SteamVR_Utils.RigidTransform(poses[i].mDeviceToAbsoluteTracking);
00062 
00063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a2dd40fde31add6c17a4614bda2de241c">origin</link>&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;transform.position&#32;=&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a2dd40fde31add6c17a4614bda2de241c">origin</link>.transform.TransformPoint(pose.pos);
00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;transform.rotation&#32;=&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a2dd40fde31add6c17a4614bda2de241c">origin</link>.rotation&#32;*&#32;pose.rot;
00067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;transform.localPosition&#32;=&#32;pose.pos;
00071 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;transform.localRotation&#32;=&#32;pose.rot;
00072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00074 
00075 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SteamVR_Events.Action&#32;newPosesAction;
00076 
00077 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object">SteamVR_TrackedObject</link>()
00078 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00079 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;newPosesAction&#32;=&#32;SteamVR_Events.NewPosesAction(OnNewPoses);
00080 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00081 
00082 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;Awake()
00083 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00084 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;OnEnable();
00085 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00086 
00087 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnEnable()
00088 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00089 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;render&#32;=&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___render">SteamVR_Render</link>.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___render_1afa00f388fb9bbd9a90773d319b079211">instance</link>;
00090 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(render&#32;==&#32;<emphasis role="keyword">null</emphasis>)
00091 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00092 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;enabled&#32;=&#32;<emphasis role="keyword">false</emphasis>;
00093 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
00094 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00095 
00096 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;newPosesAction.enabled&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00097 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00098 
00099 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnDisable()
00100 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00101 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;newPosesAction.enabled&#32;=&#32;<emphasis role="keyword">false</emphasis>;
00102 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1aff86155d6bd6cc055201e3be599f3c0e">isValid</link>&#32;=&#32;<emphasis role="keyword">false</emphasis>;
00103 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00104 
<anchor xml:id="__steam_v_r___tracked_object_8cs_source_1l00105"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a8021e93fa573edf951b71fb758243d8e">00105</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a8021e93fa573edf951b71fb758243d8e">SetDeviceIndex</link>(<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a2a5ca7a8565885adf0cfa2449603f57a">index</link>)
00106 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00107 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(System.Enum.IsDefined(typeof(<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a3d437894eff0bfc81eeb21a8c478413e">EIndex</link>),&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a2a5ca7a8565885adf0cfa2449603f57a">index</link>))
00108 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this.index&#32;=&#32;(<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a3d437894eff0bfc81eeb21a8c478413e">EIndex</link>)<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___tracked_object_1a2a5ca7a8565885adf0cfa2449603f57a">index</link>;
00109 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00110 &#32;&#32;&#32;&#32;}
00111 }
</programlisting></section>
