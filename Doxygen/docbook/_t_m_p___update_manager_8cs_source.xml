<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__t_m_p___update_manager_8cs_source">
<title>TMP_UpdateManager.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Library/PackageCache/com.unity.textmeshpro@1.3.0/Scripts/Runtime/TMP_UpdateManager.cs</primary></indexterm>
<programlisting>00001 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00002 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_engine">UnityEngine</link>.UI;
00003 <emphasis role="keyword">using</emphasis>&#32;System.Collections.Generic;
00004 
00005 <emphasis role="preprocessor">#if&#32;UNITY_2018_1_OR_NEWER</emphasis>
00006 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_engine">UnityEngine</link>.Experimental.Rendering;
00007 <emphasis role="preprocessor">#endif</emphasis>
00008 
00009 
00010 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_t_m_pro">TMPro</link>
00011 {
00012 
<anchor xml:id="__t_m_p___update_manager_8cs_source_1l00013"/><link linkend="_class_t_m_pro_1_1_t_m_p___update_manager">00013</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_t_m_pro_1_1_t_m_p___update_manager">TMP_UpdateManager</link>
00014 &#32;&#32;&#32;&#32;{
00015 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager">TMP_UpdateManager</link>&#32;s_Instance;
00016 
00017 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;readonly&#32;List&lt;TMP_Text&gt;&#32;m_LayoutRebuildQueue&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;List&lt;TMP_Text&gt;();
00018 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Dictionary&lt;int,&#32;int&gt;&#32;m_LayoutQueueLookup&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Dictionary&lt;int,&#32;int&gt;();
00019 
00020 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;readonly&#32;List&lt;TMP_Text&gt;&#32;m_GraphicRebuildQueue&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;List&lt;TMP_Text&gt;();
00021 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Dictionary&lt;int,&#32;int&gt;&#32;m_GraphicQueueLookup&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Dictionary&lt;int,&#32;int&gt;();
00022 
00023 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//private&#32;bool&#32;m_PerformingGraphicRebuild;</emphasis>
00024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//private&#32;bool&#32;m_PerformingLayoutRebuild;</emphasis>
00025 
00029 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager">TMP_UpdateManager</link>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1aec0eecf598f0d3eb8e682f0ec6f18f1f">instance</link>
<anchor xml:id="__t_m_p___update_manager_8cs_source_1l00030"/><link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1aec0eecf598f0d3eb8e682f0ec6f18f1f">00030</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00031 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>
00032 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager">TMP_UpdateManager</link>.s_Instance&#32;==&#32;<emphasis role="keyword">null</emphasis>)
00034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager">TMP_UpdateManager</link>.s_Instance&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1aac91ee76bdd5a4fe9e77536d51a644b8">TMP_UpdateManager</link>();
00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager">TMP_UpdateManager</link>.s_Instance;
00036 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00038 
00039 
<anchor xml:id="__t_m_p___update_manager_8cs_source_1l00043"/><link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1aac91ee76bdd5a4fe9e77536d51a644b8">00043</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1aac91ee76bdd5a4fe9e77536d51a644b8">TMP_UpdateManager</link>()
00044 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Camera.onPreCull&#32;+=&#32;OnCameraPreCull;
00046 
00047 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;#if&#32;UNITY_2018_1_OR_NEWER</emphasis>
00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;RenderPipeline.beginFrameRendering&#32;+=&#32;OnBeginFrameRendering;
00049 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;#endif</emphasis>
00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00051 
00052 
<anchor xml:id="__t_m_p___update_manager_8cs_source_1l00057"/><link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1a634231dcd884e950e0b9c7527bc39311">00057</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1a634231dcd884e950e0b9c7527bc39311">RegisterTextElementForLayoutRebuild</link>(<link linkend="_class_t_m_pro_1_1_t_m_p___text">TMP_Text</link>&#32;element)
00058 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager">TMP_UpdateManager</link>.<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1aec0eecf598f0d3eb8e682f0ec6f18f1f">instance</link>.InternalRegisterTextElementForLayoutRebuild(element);
00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00061 
00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;InternalRegisterTextElementForLayoutRebuild(<link linkend="_class_t_m_pro_1_1_t_m_p___text">TMP_Text</link>&#32;element)
00063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<emphasis role="keywordtype">id</emphasis>&#32;=&#32;element.GetInstanceID();
00065 
00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(this.m_LayoutQueueLookup.ContainsKey(<emphasis role="keywordtype">id</emphasis>))
00067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
00068 
00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_LayoutQueueLookup[id]&#32;=&#32;id;
00070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this.m_LayoutRebuildQueue.Add(element);
00071 
00072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
00073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00074 
00075 
<anchor xml:id="__t_m_p___update_manager_8cs_source_1l00080"/><link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1a110903981e6a8c00d95957b707cc3c99">00080</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1a110903981e6a8c00d95957b707cc3c99">RegisterTextElementForGraphicRebuild</link>(<link linkend="_class_t_m_pro_1_1_t_m_p___text">TMP_Text</link>&#32;element)
00081 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00082 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager">TMP_UpdateManager</link>.<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1aec0eecf598f0d3eb8e682f0ec6f18f1f">instance</link>.InternalRegisterTextElementForGraphicRebuild(element);
00083 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00084 
00085 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;InternalRegisterTextElementForGraphicRebuild(<link linkend="_class_t_m_pro_1_1_t_m_p___text">TMP_Text</link>&#32;element)
00086 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00087 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<emphasis role="keywordtype">id</emphasis>&#32;=&#32;element.GetInstanceID();
00088 
00089 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(this.m_GraphicQueueLookup.ContainsKey(<emphasis role="keywordtype">id</emphasis>))
00090 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
00091 
00092 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_GraphicQueueLookup[id]&#32;=&#32;id;
00093 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this.m_GraphicRebuildQueue.Add(element);
00094 
00095 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
00096 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00097 
00102 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnBeginFrameRendering(Camera[]&#32;cameras)
00103 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00104 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Exclude&#32;the&#32;PreRenderCamera</emphasis>
00105 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;#if&#32;UNITY_EDITOR</emphasis>
00106 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(cameras.Length&#32;==&#32;1&#32;&amp;&amp;&#32;cameras[0].cameraType&#32;==&#32;CameraType.Preview)&#32;
00107 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
00108 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;#endif</emphasis>
00109 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;DoRebuilds();
00110 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00111 
00116 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnCameraPreCull(Camera&#32;cam)
00117 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00118 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Exclude&#32;the&#32;PreRenderCamera</emphasis>
00119 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;#if&#32;UNITY_EDITOR</emphasis>
00120 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(cam.cameraType&#32;==&#32;CameraType.Preview)&#32;
00121 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
00122 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;#endif</emphasis>
00123 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;DoRebuilds();
00124 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00125 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
00129 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;DoRebuilds()
00130 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00131 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Handle&#32;Layout&#32;Rebuild&#32;Phase</emphasis>
00132 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;m_LayoutRebuildQueue.Count;&#32;i++)
00133 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00134 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_LayoutRebuildQueue[i].Rebuild(CanvasUpdate.Prelayout);
00135 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00136 
00137 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_LayoutRebuildQueue.Count&#32;&gt;&#32;0)
00138 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00139 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_LayoutRebuildQueue.Clear();
00140 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_LayoutQueueLookup.Clear();
00141 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00142 
00143 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Handle&#32;Graphic&#32;Rebuild&#32;Phase</emphasis>
00144 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;m_GraphicRebuildQueue.Count;&#32;i++)
00145 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00146 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_GraphicRebuildQueue[i].Rebuild(CanvasUpdate.PreRender);
00147 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00148 
00149 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;If&#32;there&#32;are&#32;no&#32;objects&#32;in&#32;the&#32;queue,&#32;we&#32;don&apos;t&#32;need&#32;to&#32;clear&#32;the&#32;lists&#32;again.</emphasis>
00150 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_GraphicRebuildQueue.Count&#32;&gt;&#32;0)
00151 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00152 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_GraphicRebuildQueue.Clear();
00153 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_GraphicQueueLookup.Clear();
00154 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00155 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00156 
00157 
<anchor xml:id="__t_m_p___update_manager_8cs_source_1l00162"/><link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1a230503254fd8d8ebc2ba1849ff30dad8">00162</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1a230503254fd8d8ebc2ba1849ff30dad8">UnRegisterTextElementForRebuild</link>(<link linkend="_class_t_m_pro_1_1_t_m_p___text">TMP_Text</link>&#32;element)
00163 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00164 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager">TMP_UpdateManager</link>.<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1aec0eecf598f0d3eb8e682f0ec6f18f1f">instance</link>.InternalUnRegisterTextElementForGraphicRebuild(element);
00165 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager">TMP_UpdateManager</link>.<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1aec0eecf598f0d3eb8e682f0ec6f18f1f">instance</link>.InternalUnRegisterTextElementForLayoutRebuild(element);
00166 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00167 
00168 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;InternalUnRegisterTextElementForGraphicRebuild(<link linkend="_class_t_m_pro_1_1_t_m_p___text">TMP_Text</link>&#32;element)
00169 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00170 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//if&#32;(this.m_PerformingGraphicRebuild)</emphasis>
00171 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//{</emphasis>
00172 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;Debug.LogError((object)string.Format(&quot;Trying&#32;to&#32;remove&#32;{0}&#32;from&#32;rebuild&#32;list&#32;while&#32;we&#32;are&#32;already&#32;inside&#32;a&#32;rebuild&#32;loop.&#32;This&#32;is&#32;not&#32;supported.&quot;,&#32;(object)element));</emphasis>
00173 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//}</emphasis>
00174 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//else</emphasis>
00175 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//{</emphasis>
00176 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<emphasis role="keywordtype">id</emphasis>&#32;=&#32;element.GetInstanceID();
00177 
00178 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//element.LayoutComplete();</emphasis>
00179 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager">TMP_UpdateManager</link>.<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1aec0eecf598f0d3eb8e682f0ec6f18f1f">instance</link>.m_GraphicRebuildQueue.Remove(element);
00180 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_GraphicQueueLookup.Remove(<emphasis role="keywordtype">id</emphasis>);
00181 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//}</emphasis>
00182 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00183 
00184 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;InternalUnRegisterTextElementForLayoutRebuild(TMP_Text&#32;element)
00185 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00186 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//if&#32;(this.m_PerformingLayoutRebuild)</emphasis>
00187 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//{</emphasis>
00188 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;Debug.LogError((object)string.Format(&quot;Trying&#32;to&#32;remove&#32;{0}&#32;from&#32;rebuild&#32;list&#32;while&#32;we&#32;are&#32;already&#32;inside&#32;a&#32;rebuild&#32;loop.&#32;This&#32;is&#32;not&#32;supported.&quot;,&#32;(object)element));</emphasis>
00189 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//}</emphasis>
00190 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//else</emphasis>
00191 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//{</emphasis>
00192 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<emphasis role="keywordtype">id</emphasis>&#32;=&#32;element.GetInstanceID();
00193 
00194 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//element.LayoutComplete();</emphasis>
00195 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___update_manager_1aac91ee76bdd5a4fe9e77536d51a644b8">TMP_UpdateManager</link>.instance.m_LayoutRebuildQueue.Remove(element);
00196 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_LayoutQueueLookup.Remove(<emphasis role="keywordtype">id</emphasis>);
00197 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//}</emphasis>
00198 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00199 
00200 
00201 &#32;&#32;&#32;&#32;}
00202 }
</programlisting></section>
