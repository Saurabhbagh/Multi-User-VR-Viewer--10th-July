<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__popup_field_8cs_source">
<title>PopupField.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Library/PackageCache/com.unity.package-manager-ui@2.0.7/Editor/Sources/UI/Common/PopupField.cs</primary></indexterm>
<programlisting>00001 <emphasis role="keyword">using</emphasis>&#32;System;
00002 <emphasis role="keyword">using</emphasis>&#32;System.Collections.Generic;
00003 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00004 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_engine">UnityEngine</link>.Experimental.UIElements;
00005 
00006 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_unity_editor_1_1_package_manager_1_1_u_i">UnityEditor.PackageManager.UI</link>
00007 {
00008 <emphasis role="preprocessor">#if&#32;UNITY_2018_3_OR_NEWER</emphasis>
00009 &#32;&#32;&#32;&#32;<emphasis role="keyword">internal</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis>PopupField&lt;T&gt;&#32;:&#32;Experimental.UIElements.PopupField&lt;T&gt;
00010 &#32;&#32;&#32;&#32;{
00011 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Func&lt;T,&#32;string&gt;&#32;m_Callback;
00012 
00013 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">override</emphasis>&#32;T&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>
00014 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00015 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">return</emphasis>&#32;base.value;&#32;}
00016 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">set</emphasis>
00017 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00018 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;base.value&#32;=&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>;
00019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_Callback&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00020 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_TextElement.text&#32;=&#32;m_Callback(m_Value);
00021 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
00022 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_TextElement.text&#32;=&#32;m_Value.ToString();
00023 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00025 
00030 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a9abe30176e465f59b1fa19c914fd9e64">SetLabelCallback</link>(Func&lt;T,&#32;string&gt;&#32;callback)
00031 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00032 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_Callback&#32;=&#32;callback;
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00034 
00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;PopupField(List&lt;T&gt;&#32;choices,&#32;T&#32;defaultValue)&#32;:
00036 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;base(choices,&#32;defaultValue)
00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00039 
00040 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;PopupField(List&lt;T&gt;&#32;choices,&#32;<emphasis role="keywordtype">int</emphasis>&#32;defaultIndex)&#32;:
00041 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;base(choices,&#32;defaultIndex)
00042 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00044 &#32;&#32;&#32;&#32;}
00045 <emphasis role="preprocessor">#else</emphasis>
<anchor xml:id="__popup_field_8cs_source_1l00046"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field">00046</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">internal</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field">PopupField</link>&lt;T&gt;&#32;:&#32;BaseTextElement,&#32;INotifyValueChanged&lt;T&gt;
00047 &#32;&#32;&#32;&#32;{
00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;readonly&#32;List&lt;T&gt;&#32;m_PossibleValues;
00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Func&lt;T,&#32;string&gt;&#32;m_Callback;
00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;EventCallback&lt;ChangeEvent&lt;T&gt;&gt;&#32;m_valueCallback;
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;T&#32;m_Value;
00052 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;T&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>
<anchor xml:id="__popup_field_8cs_source_1l00053"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">00053</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00054 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">return</emphasis>&#32;m_Value;&#32;}
00055 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">set</emphasis>
00056 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(EqualityComparer&lt;T&gt;.Default.Equals(m_Value,&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>))
00058 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
00059 
00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!m_PossibleValues.Contains(<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>))
00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">throw</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;ArgumentException(<emphasis role="keywordtype">string</emphasis>.Format(<emphasis role="stringliteral">&quot;Value&#32;{0}&#32;is&#32;not&#32;present&#32;in&#32;the&#32;list&#32;of&#32;possible&#32;values&quot;</emphasis>,&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>));
00062 
00063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_Value&#32;=&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>;
00064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_Index&#32;=&#32;m_PossibleValues.IndexOf(m_Value);
00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_Callback&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;text&#32;=&#32;m_Callback(m_Value);
00067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
00068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;text&#32;=&#32;m_Value.ToString();
00069 &#32;
00070 <emphasis role="preprocessor">#if&#32;UNITY_2018_3_OR_NEWER</emphasis>
00071 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;MarkDirtyRepaint();
00072 <emphasis role="preprocessor">#else</emphasis>
00073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Dirty(ChangeType.Repaint);
00074 <emphasis role="preprocessor">#endif</emphasis>
00075 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00076 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00077 
00078 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;m_Index&#32;=&#32;-1;
00079 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a2d970798a3507d033d16b4f9e90b64f1">index</link>
<anchor xml:id="__popup_field_8cs_source_1l00080"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a2d970798a3507d033d16b4f9e90b64f1">00080</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00081 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">return</emphasis>&#32;m_Index;&#32;}
00082 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">set</emphasis>
00083 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00084 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>&#32;!=&#32;m_Index)
00085 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00086 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>&#32;&gt;=&#32;m_PossibleValues.Count&#32;||&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>&#32;&lt;&#32;0)
00087 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">throw</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;ArgumentException(<emphasis role="keywordtype">string</emphasis>.Format(<emphasis role="stringliteral">&quot;Index&#32;{0}&#32;is&#32;beyond&#32;the&#32;scope&#32;of&#32;possible&#32;value&quot;</emphasis>,&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>));
00088 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_Index&#32;=&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>;
00089 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this.<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>&#32;=&#32;m_PossibleValues[m_Index];
00090 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00091 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00092 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00093 
<anchor xml:id="__popup_field_8cs_source_1l00098"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a9abe30176e465f59b1fa19c914fd9e64">00098</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a9abe30176e465f59b1fa19c914fd9e64">SetLabelCallback</link>(Func&lt;T,&#32;string&gt;&#32;callback)
00099 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00100 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_Callback&#32;=&#32;callback;
00101 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00102 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
00103 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field">PopupField</link>(List&lt;T&gt;&#32;possibleValues)
00104 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00105 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(possibleValues&#32;==&#32;<emphasis role="keyword">null</emphasis>)
00106 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">throw</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;ArgumentNullException(<emphasis role="stringliteral">&quot;possibleValues&#32;can&apos;t&#32;be&#32;null&quot;</emphasis>);
00107 
00108 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_PossibleValues&#32;=&#32;possibleValues;
00109 
00110 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;AddToClassList(<emphasis role="stringliteral">&quot;popupField&quot;</emphasis>);
00111 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00112 
<anchor xml:id="__popup_field_8cs_source_1l00113"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a64c78e65aa749d7de30ffde3428eef39">00113</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a64c78e65aa749d7de30ffde3428eef39">PopupField</link>(List&lt;T&gt;&#32;possibleValues,&#32;T&#32;defaultValue)&#32;:
00114 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this(possibleValues)
00115 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00116 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(defaultValue&#32;==&#32;<emphasis role="keyword">null</emphasis>)
00117 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">throw</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;ArgumentNullException(<emphasis role="stringliteral">&quot;defaultValue&#32;can&apos;t&#32;be&#32;null&quot;</emphasis>);
00118 
00119 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!m_PossibleValues.Contains(defaultValue))
00120 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">throw</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;ArgumentException(<emphasis role="keywordtype">string</emphasis>.Format(<emphasis role="stringliteral">&quot;Default&#32;value&#32;{0}&#32;is&#32;not&#32;present&#32;in&#32;the&#32;list&#32;of&#32;possible&#32;values&quot;</emphasis>,&#32;defaultValue));
00121 
00122 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;note:&#32;idx&#32;will&#32;be&#32;set&#32;when&#32;setting&#32;value</emphasis>
00123 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>&#32;=&#32;defaultValue;
00124 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00125 
<anchor xml:id="__popup_field_8cs_source_1l00126"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a758cc96ab9fe6b8cb8548fd131487d97">00126</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a758cc96ab9fe6b8cb8548fd131487d97">PopupField</link>(List&lt;T&gt;&#32;possibleValues,&#32;<emphasis role="keywordtype">int</emphasis>&#32;defaultIndex)&#32;:
00127 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this(possibleValues)
00128 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00129 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(defaultIndex&#32;&gt;=&#32;m_PossibleValues.Count&#32;||&#32;defaultIndex&#32;&lt;&#32;0)
00130 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">throw</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;ArgumentException(<emphasis role="keywordtype">string</emphasis>.Format(<emphasis role="stringliteral">&quot;Default&#32;Index&#32;{0}&#32;is&#32;beyond&#32;the&#32;scope&#32;of&#32;possible&#32;value&quot;</emphasis>,&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>));
00131 
00132 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;note:&#32;value&#32;will&#32;be&#32;set&#32;when&#32;setting&#32;idx</emphasis>
00133 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a2d970798a3507d033d16b4f9e90b64f1">index</link>&#32;=&#32;defaultIndex;
00134 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00135 
<anchor xml:id="__popup_field_8cs_source_1l00136"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a1eda78f748bcbb8dca9280f4a0ee9ff9">00136</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a1eda78f748bcbb8dca9280f4a0ee9ff9">SetValueAndNotify</link>(T&#32;newValue)
00137 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00138 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!EqualityComparer&lt;T&gt;.Default.Equals(newValue,&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>))
00139 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00140 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">using</emphasis>&#32;(ChangeEvent&lt;T&gt;&#32;evt&#32;=&#32;ChangeEvent&lt;T&gt;.GetPooled(<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>,&#32;newValue))
00141 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00142 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>&#32;=&#32;newValue;
00143 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_valueCallback&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00144 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_valueCallback(evt);
00145 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00146 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00147 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00148 
<anchor xml:id="__popup_field_8cs_source_1l00149"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a805375871c4f16bb18d81e28923fe7ca">00149</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a805375871c4f16bb18d81e28923fe7ca">OnValueChanged</link>(EventCallback&lt;ChangeEvent&lt;T&gt;&gt;&#32;callback)
00150 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00151 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_valueCallback&#32;=&#32;callback;
00152 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;RegisterCallback(callback);
00153 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00154 
<anchor xml:id="__popup_field_8cs_source_1l00155"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1af08eb4491690830c67b9567d7ecb14cc">00155</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">override</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1af08eb4491690830c67b9567d7ecb14cc">ExecuteDefaultAction</link>(EventBase&#32;evt)
00156 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00157 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;base.ExecuteDefaultAction(evt);
00158 
00159 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(evt.GetEventTypeId()&#32;==&#32;MouseDownEvent.TypeId())
00160 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;OnMouseDown();
00161 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00162 
00163 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnMouseDown()
00164 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00165 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;menu&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;GenericMenu();
00166 
00167 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">foreach</emphasis>&#32;(T&#32;item&#32;<emphasis role="keywordflow">in</emphasis>&#32;m_PossibleValues)
00168 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00169 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;isSelected&#32;=&#32;EqualityComparer&lt;T&gt;.Default.Equals(item,&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1aa27a791d6881262b65dea46b32578313">value</link>);
00170 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;menu.AddItem(<emphasis role="keyword">new</emphasis>&#32;GUIContent(item.ToString()),&#32;isSelected,
00171 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;()&#32;=&gt;&#32;ChangeValueFromMenu(item));
00172 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00173 
00174 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;menuPosition&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Vector2(0.0f,&#32;layout.height);
00175 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;menuPosition&#32;=&#32;this.LocalToWorld(menuPosition);
00176 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;menuRect&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Rect(menuPosition,&#32;Vector2.zero);
00177 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;menu.DropDown(menuRect);
00178 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00179 
00180 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;ChangeValueFromMenu(T&#32;menuItem)
00181 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00182 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_popup_field_1a1eda78f748bcbb8dca9280f4a0ee9ff9">SetValueAndNotify</link>(menuItem);
00183 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00184 &#32;&#32;&#32;&#32;}
00185 <emphasis role="preprocessor">#endif</emphasis>
00186 }
</programlisting></section>
