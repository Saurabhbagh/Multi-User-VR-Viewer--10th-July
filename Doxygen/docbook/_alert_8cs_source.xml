<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__alert_8cs_source">
<title>Alert.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Library/PackageCache/com.unity.package-manager-ui@2.0.7/Editor/Sources/UI/Common/Alert.cs</primary></indexterm>
<programlisting>00001 <emphasis role="keyword">using</emphasis>&#32;System;
00002 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_engine">UnityEngine</link>.Experimental.UIElements;
00003 
00004 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_unity_editor_1_1_package_manager_1_1_u_i">UnityEditor.PackageManager.UI</link>
00005 {
00006 <emphasis role="preprocessor">#if&#32;!UNITY_2018_3_OR_NEWER</emphasis>
<anchor xml:id="__alert_8cs_source_1l00007"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_factory">00007</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">internal</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_factory">AlertFactory</link>&#32;:&#32;UxmlFactory&lt;Alert&gt;
00008 &#32;&#32;&#32;&#32;{
<anchor xml:id="__alert_8cs_source_1l00009"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_factory_1a1cc881633bf3ccf6929d728f510c380e">00009</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">override</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert">Alert</link>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_factory_1a1cc881633bf3ccf6929d728f510c380e">DoCreate</link>(IUxmlAttributes&#32;bag,&#32;CreationContext&#32;cc)
00010 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00011 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert">Alert</link>();
00012 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00013 &#32;&#32;&#32;&#32;}
00014 <emphasis role="preprocessor">#endif</emphasis>
00015 
<anchor xml:id="__alert_8cs_source_1l00016"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert">00016</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">internal</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert">Alert</link>&#32;:&#32;VisualElement
00017 &#32;&#32;&#32;&#32;{
00018 <emphasis role="preprocessor">#if&#32;UNITY_2018_3_OR_NEWER</emphasis>
00019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">internal</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis>UxmlFactory&#32;:&#32;UxmlFactory&lt;Alert&gt;&#32;{&#32;}
00020 <emphasis role="preprocessor">#endif</emphasis>
00021 
00022 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">string</emphasis>&#32;TemplatePath&#32;=&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_manager_window">PackageManagerWindow</link>.<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_manager_window_1ac6bc78a741c9ab19ceeb2fa9a51cf645">ResourcesPath</link>&#32;+&#32;<emphasis role="stringliteral">&quot;Templates/Alert.uxml&quot;</emphasis>;
00023 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;readonly&#32;VisualElement&#32;root;
00024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;originalPositionRight&#32;=&#32;5.0f;
00025 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;positionRightWithScroll&#32;=&#32;12.0f;
00026 
<anchor xml:id="__alert_8cs_source_1l00027"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1ae4a831caf5805a238a76496fdbcc8644">00027</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Action&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1ae4a831caf5805a238a76496fdbcc8644">OnCloseError</link>;
00028 
<anchor xml:id="__alert_8cs_source_1l00029"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1a98a897e72d9a172a974610963a989589">00029</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1a98a897e72d9a172a974610963a989589">Alert</link>()
00030 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00031 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;UIUtils.SetElementDisplay(<emphasis role="keyword">this</emphasis>,&#32;<emphasis role="keyword">false</emphasis>);
00032 
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;root&#32;=&#32;AssetDatabase.LoadAssetAtPath&lt;VisualTreeAsset&gt;(TemplatePath).CloneTree(<emphasis role="keyword">null</emphasis>);
00034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Add(root);
00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;root.StretchToParentSize();
00036 
00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CloseButton.clickable.clicked&#32;+=&#32;()&#32;=&gt;
00038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<emphasis role="keyword">null</emphasis>&#32;!=&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1ae4a831caf5805a238a76496fdbcc8644">OnCloseError</link>)
00040 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1ae4a831caf5805a238a76496fdbcc8644">OnCloseError</link>();
00041 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1aa8a6fa9c50616c19e66e00e80c20f7a3">ClearError</link>();
00042 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;};
00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00044 
<anchor xml:id="__alert_8cs_source_1l00045"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1a80d12e442a9ac9d3f56375b958a26b95">00045</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1a80d12e442a9ac9d3f56375b958a26b95">SetError</link>(<link linkend="_namespace_unity_editor_1_1_package_manager_1_1_u_i_1ab1815eb3e48074893d9dc1dc99a4a32aa902b0d55fddef6f8d651fe1035b7d4bd">Error</link>&#32;error)
00046 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;message&#32;=&#32;<emphasis role="stringliteral">&quot;An&#32;error&#32;occured.&quot;</emphasis>;
00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(error&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;message&#32;=&#32;error.message&#32;??&#32;<emphasis role="keywordtype">string</emphasis>.Format(<emphasis role="stringliteral">&quot;An&#32;error&#32;occurred&#32;({0})&quot;</emphasis>,&#32;error.errorCode.ToString());
00050 
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;AlertMessage.text&#32;=&#32;message;
00052 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;UIUtils.SetElementDisplay(<emphasis role="keyword">this</emphasis>,&#32;<emphasis role="keyword">true</emphasis>);
00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00054 
<anchor xml:id="__alert_8cs_source_1l00055"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1aa8a6fa9c50616c19e66e00e80c20f7a3">00055</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1aa8a6fa9c50616c19e66e00e80c20f7a3">ClearError</link>()
00056 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;UIUtils.SetElementDisplay(<emphasis role="keyword">this</emphasis>,&#32;<emphasis role="keyword">false</emphasis>);
00058 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1adefee73ba0a86c091a7325b8abc033a1">AdjustSize</link>(<emphasis role="keyword">false</emphasis>);
00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;AlertMessage.text&#32;=&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>;
00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1ae4a831caf5805a238a76496fdbcc8644">OnCloseError</link>&#32;=&#32;<emphasis role="keyword">null</emphasis>;
00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00062 
<anchor xml:id="__alert_8cs_source_1l00063"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1adefee73ba0a86c091a7325b8abc033a1">00063</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_alert_1adefee73ba0a86c091a7325b8abc033a1">AdjustSize</link>(<emphasis role="keywordtype">bool</emphasis>&#32;verticalScrollerVisible)
00064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(verticalScrollerVisible)
00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;style.positionRight&#32;=&#32;originalPositionRight&#32;+&#32;positionRightWithScroll;
00067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
00068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;style.positionRight&#32;=&#32;originalPositionRight;
00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00070 
00071 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Label&#32;AlertMessage&#32;{&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">return</emphasis>&#32;root.Q&lt;Label&gt;(<emphasis role="stringliteral">&quot;alertMessage&quot;</emphasis>);&#32;}&#32;}
00072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Button&#32;CloseButton&#32;{&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">return</emphasis>&#32;root.Q&lt;Button&gt;(<emphasis role="stringliteral">&quot;close&quot;</emphasis>);&#32;}&#32;}
00073 &#32;&#32;&#32;&#32;}
00074 }
</programlisting></section>
