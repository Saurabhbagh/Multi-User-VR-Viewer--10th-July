<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__simple_shoot_8cs_source">
<title>SimpleShoot.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Assets/Nokobot/ModernGuns_Handgun/Demo Assets/SimpleShoot.cs</primary></indexterm>
<programlisting>00001 <emphasis role="keyword">using</emphasis>&#32;System.Collections;
00002 <emphasis role="keyword">using</emphasis>&#32;System.Collections.Generic;
00003 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00004 
<anchor xml:id="__simple_shoot_8cs_source_1l00005"/><link linkend="_class_simple_shoot">00005</link> <emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_simple_shoot">SimpleShoot</link>&#32;:&#32;MonoBehaviour
00006 {
00007 
<anchor xml:id="__simple_shoot_8cs_source_1l00008"/><link linkend="_class_simple_shoot_1ac171d2d5c1240a628df27f5daad30650">00008</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;GameObject&#32;<link linkend="_class_simple_shoot_1ac171d2d5c1240a628df27f5daad30650">bulletPrefab</link>;
<anchor xml:id="__simple_shoot_8cs_source_1l00009"/><link linkend="_class_simple_shoot_1a71ec8176d7de8605e8b3179afdd84883">00009</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;GameObject&#32;<link linkend="_class_simple_shoot_1a71ec8176d7de8605e8b3179afdd84883">casingPrefab</link>;
<anchor xml:id="__simple_shoot_8cs_source_1l00010"/><link linkend="_class_simple_shoot_1afd2c2e1225dc098740ccee326dbad174">00010</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;GameObject&#32;<link linkend="_class_simple_shoot_1afd2c2e1225dc098740ccee326dbad174">muzzleFlashPrefab</link>;
<anchor xml:id="__simple_shoot_8cs_source_1l00011"/><link linkend="_class_simple_shoot_1ae756812319827a97b75d211f7359ce4f">00011</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Transform&#32;<link linkend="_class_simple_shoot_1ae756812319827a97b75d211f7359ce4f">barrelLocation</link>;
<anchor xml:id="__simple_shoot_8cs_source_1l00012"/><link linkend="_class_simple_shoot_1a93e53fc58d93328650990c266e37bf45">00012</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Transform&#32;<link linkend="_class_simple_shoot_1a93e53fc58d93328650990c266e37bf45">casingExitLocation</link>;
00013 
00014 
<anchor xml:id="__simple_shoot_8cs_source_1l00015"/><link linkend="_class_simple_shoot_1af962ecc5f24c7ea0d8a77c36abe0c02f">00015</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_class_simple_shoot_1af962ecc5f24c7ea0d8a77c36abe0c02f">shotPower</link>&#32;=&#32;100f;
00016 
00017 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;Start()
00018 &#32;&#32;&#32;&#32;{
00019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_simple_shoot_1ae756812319827a97b75d211f7359ce4f">barrelLocation</link>&#32;==&#32;<emphasis role="keyword">null</emphasis>)
00020 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_simple_shoot_1ae756812319827a97b75d211f7359ce4f">barrelLocation</link>&#32;=&#32;transform;
00021 &#32;&#32;&#32;&#32;}
00022 
00023 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;Update()
00024 &#32;&#32;&#32;&#32;{
00025 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(Input.GetButtonDown(<emphasis role="stringliteral">&quot;Fire1&quot;</emphasis>))
00026 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00027 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;GetComponent&lt;Animator&gt;().SetTrigger(<emphasis role="stringliteral">&quot;Fire&quot;</emphasis>);
00028 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00029 &#32;&#32;&#32;&#32;}
00030 
00031 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;Shoot()
00032 &#32;&#32;&#32;&#32;{
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;GameObject&#32;bullet;</emphasis>
00034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;bullet&#32;=&#32;Instantiate(bulletPrefab,&#32;barrelLocation.position,&#32;barrelLocation.rotation);</emphasis>
00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;bullet.GetComponent&lt;Rigidbody&gt;().AddForce(barrelLocation.forward&#32;*&#32;shotPower);</emphasis>
00036 
00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;GameObject&#32;tempFlash;
00038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;Instantiate(<link linkend="_class_simple_shoot_1ac171d2d5c1240a628df27f5daad30650">bulletPrefab</link>,&#32;<link linkend="_class_simple_shoot_1ae756812319827a97b75d211f7359ce4f">barrelLocation</link>.position,&#32;<link linkend="_class_simple_shoot_1ae756812319827a97b75d211f7359ce4f">barrelLocation</link>.rotation).GetComponent&lt;Rigidbody&gt;().AddForce(<link linkend="_class_simple_shoot_1ae756812319827a97b75d211f7359ce4f">barrelLocation</link>.forward&#32;*&#32;<link linkend="_class_simple_shoot_1af962ecc5f24c7ea0d8a77c36abe0c02f">shotPower</link>);
00039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;tempFlash&#32;=&#32;Instantiate(<link linkend="_class_simple_shoot_1afd2c2e1225dc098740ccee326dbad174">muzzleFlashPrefab</link>,&#32;<link linkend="_class_simple_shoot_1ae756812319827a97b75d211f7359ce4f">barrelLocation</link>.position,&#32;<link linkend="_class_simple_shoot_1ae756812319827a97b75d211f7359ce4f">barrelLocation</link>.rotation);
00040 
00041 &#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Destroy(tempFlash,&#32;0.5f);</emphasis>
00042 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;Instantiate(casingPrefab,&#32;casingExitLocation.position,&#32;casingExitLocation.rotation).GetComponent&lt;Rigidbody&gt;().AddForce(casingExitLocation.right&#32;*&#32;100f);</emphasis>
00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;
00044 &#32;&#32;&#32;&#32;}
00045 
00046 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;CasingRelease()
00047 &#32;&#32;&#32;&#32;{
00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;GameObject&#32;casing;
00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;casing&#32;=&#32;Instantiate(<link linkend="_class_simple_shoot_1a71ec8176d7de8605e8b3179afdd84883">casingPrefab</link>,&#32;<link linkend="_class_simple_shoot_1a93e53fc58d93328650990c266e37bf45">casingExitLocation</link>.position,&#32;<link linkend="_class_simple_shoot_1a93e53fc58d93328650990c266e37bf45">casingExitLocation</link>.rotation)&#32;as&#32;GameObject;
00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;casing.GetComponent&lt;Rigidbody&gt;().AddExplosionForce(550f,&#32;(<link linkend="_class_simple_shoot_1a93e53fc58d93328650990c266e37bf45">casingExitLocation</link>.position&#32;-&#32;<link linkend="_class_simple_shoot_1a93e53fc58d93328650990c266e37bf45">casingExitLocation</link>.right&#32;*&#32;0.3f&#32;-&#32;<link linkend="_class_simple_shoot_1a93e53fc58d93328650990c266e37bf45">casingExitLocation</link>.up&#32;*&#32;0.6f),&#32;1f);
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;casing.GetComponent&lt;Rigidbody&gt;().AddTorque(new&#32;Vector3(0,&#32;Random.Range(100f,&#32;500f),&#32;Random.Range(10f,&#32;1000f)),&#32;ForceMode.Impulse);
00052 &#32;&#32;&#32;&#32;}
00053 
00054 
00055 }
</programlisting></section>
