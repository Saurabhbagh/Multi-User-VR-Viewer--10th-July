<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__leap_unity_extensions_8cs_source">
<title>LeapUnityExtensions.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Assets/LeapMotion/Core/Scripts/Utils/LeapUnityExtensions.cs</primary></indexterm>
<programlisting>00001 <emphasis role="comment">/******************************************************************************</emphasis>
00002 <emphasis role="comment">&#32;*&#32;Copyright&#32;(C)&#32;Leap&#32;Motion,&#32;Inc.&#32;2011-2018.&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*</emphasis>
00003 <emphasis role="comment">&#32;*&#32;Leap&#32;Motion&#32;proprietary&#32;and&#32;confidential.&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*</emphasis>
00004 <emphasis role="comment">&#32;*&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*</emphasis>
00005 <emphasis role="comment">&#32;*&#32;Use&#32;subject&#32;to&#32;the&#32;terms&#32;of&#32;the&#32;Leap&#32;Motion&#32;SDK&#32;Agreement&#32;available&#32;at&#32;&#32;&#32;&#32;&#32;*</emphasis>
00006 <emphasis role="comment">&#32;*&#32;https://developer.leapmotion.com/sdk_agreement,&#32;or&#32;another&#32;agreement&#32;&#32;&#32;&#32;&#32;&#32;&#32;*</emphasis>
00007 <emphasis role="comment">&#32;*&#32;between&#32;Leap&#32;Motion&#32;and&#32;you,&#32;your&#32;company&#32;or&#32;other&#32;organization.&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*</emphasis>
00008 <emphasis role="comment">&#32;******************************************************************************/</emphasis>
00009 
00010 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00011 <emphasis role="keyword">using</emphasis>&#32;System.Collections;
00012 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_leap_internal">LeapInternal</link>;
00013 
00014 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_leap_1_1_unity">Leap.Unity</link>&#32;{
00015 
00019 &#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis>UnityVectorExtension&#32;{
00020 
00028 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;Vector3&#32;ToVector3(<emphasis role="keyword">this</emphasis>&#32;<link linkend="_struct_leap_1_1_vector">Vector</link>&#32;vector)&#32;{
00029 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;Vector3(vector.<link linkend="_struct_leap_1_1_vector_1aa567a19970c776ccb9ebe9a09cb14828">x</link>,&#32;vector.<link linkend="_struct_leap_1_1_vector_1a458897a143435a1292796d8dfb1d760d">y</link>,&#32;vector.<link linkend="_struct_leap_1_1_vector_1afd2f32c0771e6e15fcef62f0fbf57658">z</link>);
00030 &#32;&#32;&#32;&#32;}
00031 
00032 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;Vector3&#32;ToVector3(<emphasis role="keyword">this</emphasis>&#32;<link linkend="_struct_leap_internal_1_1_l_e_a_p___v_e_c_t_o_r">LEAP_VECTOR</link>&#32;vector)&#32;{
00033 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;Vector3(vector.<link linkend="_struct_leap_internal_1_1_l_e_a_p___v_e_c_t_o_r_1a5a641abc075b71fc0a9f3bed31a2d0f0">x</link>,&#32;vector.<link linkend="_struct_leap_internal_1_1_l_e_a_p___v_e_c_t_o_r_1a590c426ffd4e8ade9475dba1e85433dd">y</link>,&#32;vector.<link linkend="_struct_leap_internal_1_1_l_e_a_p___v_e_c_t_o_r_1af1fc4bf9c27138af9d077175709c68ef">z</link>);
00034 &#32;&#32;&#32;&#32;}
00035 
00043 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;Vector4&#32;ToVector4(<emphasis role="keyword">this</emphasis>&#32;<link linkend="_struct_leap_1_1_vector">Vector</link>&#32;vector)&#32;{
00044 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;Vector4(vector.<link linkend="_struct_leap_1_1_vector_1aa567a19970c776ccb9ebe9a09cb14828">x</link>,&#32;vector.<link linkend="_struct_leap_1_1_vector_1a458897a143435a1292796d8dfb1d760d">y</link>,&#32;vector.<link linkend="_struct_leap_1_1_vector_1afd2f32c0771e6e15fcef62f0fbf57658">z</link>,&#32;0.0f);
00045 &#32;&#32;&#32;&#32;}
00046 
00054 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<link linkend="_struct_leap_1_1_vector">Vector</link>&#32;ToVector(<emphasis role="keyword">this</emphasis>&#32;Vector3&#32;vector)&#32;{
00055 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_struct_leap_1_1_vector">Vector</link>(vector.x,&#32;vector.y,&#32;vector.z);
00056 &#32;&#32;&#32;&#32;}
00057 
00058 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<link linkend="_struct_leap_internal_1_1_l_e_a_p___v_e_c_t_o_r">LEAP_VECTOR</link>&#32;ToCVector(<emphasis role="keyword">this</emphasis>&#32;Vector3&#32;vector)&#32;{
00059 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct_leap_internal_1_1_l_e_a_p___v_e_c_t_o_r">LEAP_VECTOR</link>&#32;cVector&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_struct_leap_internal_1_1_l_e_a_p___v_e_c_t_o_r">LEAP_VECTOR</link>();
00060 &#32;&#32;&#32;&#32;&#32;&#32;cVector.<link linkend="_struct_leap_internal_1_1_l_e_a_p___v_e_c_t_o_r_1a5a641abc075b71fc0a9f3bed31a2d0f0">x</link>&#32;=&#32;vector.x;
00061 &#32;&#32;&#32;&#32;&#32;&#32;cVector.<link linkend="_struct_leap_internal_1_1_l_e_a_p___v_e_c_t_o_r_1a590c426ffd4e8ade9475dba1e85433dd">y</link>&#32;=&#32;vector.y;
00062 &#32;&#32;&#32;&#32;&#32;&#32;cVector.<link linkend="_struct_leap_internal_1_1_l_e_a_p___v_e_c_t_o_r_1af1fc4bf9c27138af9d077175709c68ef">z</link>&#32;=&#32;vector.z;
00063 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;cVector;
00064 &#32;&#32;&#32;&#32;}
00065 &#32;&#32;}
00066 
00070 &#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis>UnityQuaternionExtension&#32;{
00076 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;Quaternion&#32;ToQuaternion(<emphasis role="keyword">this</emphasis>&#32;<link linkend="_struct_leap_1_1_leap_quaternion">LeapQuaternion</link>&#32;q)&#32;{
00077 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;Quaternion(q.<link linkend="_struct_leap_1_1_leap_quaternion_1a59fb70e8250b55c3a1ceb17f3ecfc4ff">x</link>,&#32;q.<link linkend="_struct_leap_1_1_leap_quaternion_1abbf57cb8408118a670c43e4713bf86ff">y</link>,&#32;q.<link linkend="_struct_leap_1_1_leap_quaternion_1a518972acd244231b413504c2d441445f">z</link>,&#32;q.<link linkend="_struct_leap_1_1_leap_quaternion_1a81a812c8073171912309baabca03146f">w</link>);
00078 &#32;&#32;&#32;&#32;}
00079 
00080 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;Quaternion&#32;ToQuaternion(<emphasis role="keyword">this</emphasis>&#32;<link linkend="_struct_leap_internal_1_1_l_e_a_p___q_u_a_t_e_r_n_i_o_n">LEAP_QUATERNION</link>&#32;q)&#32;{
00081 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;Quaternion(q.<link linkend="_struct_leap_internal_1_1_l_e_a_p___q_u_a_t_e_r_n_i_o_n_1a587fe9e9da4dad4c6e37cef603b12d0d">x</link>,&#32;q.<link linkend="_struct_leap_internal_1_1_l_e_a_p___q_u_a_t_e_r_n_i_o_n_1a0b7822710cf1629a7b9c17cc2c88f11a">y</link>,&#32;q.<link linkend="_struct_leap_internal_1_1_l_e_a_p___q_u_a_t_e_r_n_i_o_n_1a929a6fe22258fab61778eba9bc2390af">z</link>,&#32;q.<link linkend="_struct_leap_internal_1_1_l_e_a_p___q_u_a_t_e_r_n_i_o_n_1a6957a5fe7e79e94a9b79288a1c5b02f5">w</link>);
00082 &#32;&#32;&#32;&#32;}
00083 
00089 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<link linkend="_struct_leap_1_1_leap_quaternion">LeapQuaternion</link>&#32;ToLeapQuaternion(<emphasis role="keyword">this</emphasis>&#32;Quaternion&#32;q)&#32;{
00090 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_struct_leap_1_1_leap_quaternion">LeapQuaternion</link>(q.x,&#32;q.y,&#32;q.z,&#32;q.w);
00091 &#32;&#32;&#32;&#32;}
00092 
00093 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<link linkend="_struct_leap_internal_1_1_l_e_a_p___q_u_a_t_e_r_n_i_o_n">LEAP_QUATERNION</link>&#32;ToCQuaternion(<emphasis role="keyword">this</emphasis>&#32;Quaternion&#32;q)&#32;{
00094 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct_leap_internal_1_1_l_e_a_p___q_u_a_t_e_r_n_i_o_n">LEAP_QUATERNION</link>&#32;cQuaternion&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_struct_leap_internal_1_1_l_e_a_p___q_u_a_t_e_r_n_i_o_n">LEAP_QUATERNION</link>();
00095 &#32;&#32;&#32;&#32;&#32;&#32;cQuaternion.<link linkend="_struct_leap_internal_1_1_l_e_a_p___q_u_a_t_e_r_n_i_o_n_1a587fe9e9da4dad4c6e37cef603b12d0d">x</link>&#32;=&#32;q.x;
00096 &#32;&#32;&#32;&#32;&#32;&#32;cQuaternion.<link linkend="_struct_leap_internal_1_1_l_e_a_p___q_u_a_t_e_r_n_i_o_n_1a0b7822710cf1629a7b9c17cc2c88f11a">y</link>&#32;=&#32;q.y;
00097 &#32;&#32;&#32;&#32;&#32;&#32;cQuaternion.<link linkend="_struct_leap_internal_1_1_l_e_a_p___q_u_a_t_e_r_n_i_o_n_1a929a6fe22258fab61778eba9bc2390af">z</link>&#32;=&#32;q.z;
00098 &#32;&#32;&#32;&#32;&#32;&#32;cQuaternion.<link linkend="_struct_leap_internal_1_1_l_e_a_p___q_u_a_t_e_r_n_i_o_n_1a6957a5fe7e79e94a9b79288a1c5b02f5">w</link>&#32;=&#32;q.w;
00099 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;cQuaternion;
00100 &#32;&#32;&#32;&#32;}
00101 &#32;&#32;}
00102 
00106 &#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis>UnityMatrixExtension&#32;{
00108 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;readonly&#32;<link linkend="_struct_leap_1_1_vector">Vector</link>&#32;LEAP_UP&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_struct_leap_1_1_vector">Vector</link>(0,&#32;1,&#32;0);
00110 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;readonly&#32;<link linkend="_struct_leap_1_1_vector">Vector</link>&#32;LEAP_FORWARD&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_struct_leap_1_1_vector">Vector</link>(0,&#32;0,&#32;-1);
00112 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;readonly&#32;<link linkend="_struct_leap_1_1_vector">Vector</link>&#32;LEAP_ORIGIN&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_struct_leap_1_1_vector">Vector</link>(0,&#32;0,&#32;0);
00114 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;readonly&#32;<emphasis role="keywordtype">float</emphasis>&#32;MM_TO_M&#32;=&#32;1e-3f;
00115 
00124 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;Quaternion&#32;CalculateRotation(<emphasis role="keyword">this</emphasis>&#32;<link linkend="_struct_leap_1_1_leap_transform">LeapTransform</link>&#32;trs)&#32;{
00125 &#32;&#32;&#32;&#32;&#32;&#32;Vector3&#32;up&#32;=&#32;trs.<link linkend="_struct_leap_1_1_leap_transform_1ac46874ef78036f1bc2d2bf76dd9a62a2">yBasis</link>.ToVector3();
00126 &#32;&#32;&#32;&#32;&#32;&#32;Vector3&#32;forward&#32;=&#32;-trs.<link linkend="_struct_leap_1_1_leap_transform_1a59e5ecf307c5938bf9e04902b8395f8a">zBasis</link>.ToVector3();
00127 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;Quaternion.LookRotation(forward,&#32;up);
00128 &#32;&#32;&#32;&#32;}
00129 
00141 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<link linkend="_struct_leap_1_1_leap_transform">LeapTransform</link>&#32;GetLeapMatrix(<emphasis role="keyword">this</emphasis>&#32;Transform&#32;t)&#32;{
00142 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct_leap_1_1_vector">Vector</link>&#32;scale&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_struct_leap_1_1_vector">Vector</link>(t.lossyScale.x&#32;*&#32;MM_TO_M,&#32;t.lossyScale.y&#32;*&#32;MM_TO_M,&#32;t.lossyScale.z&#32;*&#32;MM_TO_M);
00143 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct_leap_1_1_leap_transform">LeapTransform</link>&#32;transform&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_struct_leap_1_1_leap_transform">LeapTransform</link>(t.position.ToVector(),&#32;t.rotation.ToLeapQuaternion(),&#32;scale);
00144 &#32;&#32;&#32;&#32;&#32;&#32;transform.<link linkend="_struct_leap_1_1_leap_transform_1a699bd459e338da85f1ee7c2de9e466de">MirrorZ</link>();&#32;<emphasis role="comment">//&#32;Unity&#32;is&#32;left&#32;handed.</emphasis>
00145 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;transform;
00146 &#32;&#32;&#32;&#32;}
00147 &#32;&#32;}
00148 }
</programlisting></section>
