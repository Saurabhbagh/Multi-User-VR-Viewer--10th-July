<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__u_i_tests_8cs_source">
<title>UITests.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Library/PackageCache/com.unity.package-manager-ui@2.0.7/Tests/Editor/Common/UITests.cs</primary></indexterm>
<programlisting>00001 <emphasis role="keyword">using</emphasis>&#32;System.Collections.Generic;
00002 <emphasis role="keyword">using</emphasis>&#32;NUnit.Framework;
00003 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_editor">UnityEditor</link>.Experimental.UIElements;
00004 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00005 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_engine">UnityEngine</link>.Experimental.UIElements;
00006 
00007 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests">UnityEditor.PackageManager.UI.Tests</link>
00008 {
<anchor xml:id="__u_i_tests_8cs_source_1l00009"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests">00009</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">internal</emphasis>&#32;<emphasis role="keyword">abstract</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests">UITests</link>&lt;TWindow&gt;&#32;where&#32;TWindow&#32;:&#32;EditorWindow
00010 &#32;&#32;&#32;&#32;{
00011 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;TWindow&#32;Window&#32;{&#32;<emphasis role="keyword">get</emphasis>;&#32;<emphasis role="keyword">set</emphasis>;&#32;}
<anchor xml:id="__u_i_tests_8cs_source_1l00012"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a85feae7c0dc564b712cab9392bd14e68">00012</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;VisualElement&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a85feae7c0dc564b712cab9392bd14e68">Container</link>&#32;{&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">return</emphasis>&#32;Window.GetRootVisualContainer();&#32;}&#32;}
<anchor xml:id="__u_i_tests_8cs_source_1l00013"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a21922bd694662931ee9b893f1734305f">00013</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_mock_operation_factory">MockOperationFactory</link>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a21922bd694662931ee9b893f1734305f">Factory</link>&#32;{&#32;<emphasis role="keyword">get</emphasis>;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keyword">set</emphasis>;&#32;}
00014 
00015 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a7613451e1b956b907406b412f66cffac">OneTimeSetUp</link>]
<anchor xml:id="__u_i_tests_8cs_source_1l00016"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a7613451e1b956b907406b412f66cffac">00016</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a7613451e1b956b907406b412f66cffac">OneTimeSetUp</link>()
00017 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00018 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a21922bd694662931ee9b893f1734305f">Factory</link>&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_mock_operation_factory">MockOperationFactory</link>();
00019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;OperationFactory.Instance&#32;=&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a21922bd694662931ee9b893f1734305f">Factory</link>;
00020 
00021 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Window&#32;=&#32;EditorWindow.GetWindow&lt;TWindow&gt;();
00022 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Window.Show();
00023 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00024 
00025 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1af76787bd1a09eeac55191bd9df41e282">OneTimeTearDown</link>]
<anchor xml:id="__u_i_tests_8cs_source_1l00026"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1af76787bd1a09eeac55191bd9df41e282">00026</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1af76787bd1a09eeac55191bd9df41e282">OneTimeTearDown</link>()
00027 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00028 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;OperationFactory.Reset();
00029 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Window&#32;=&#32;<emphasis role="keyword">null</emphasis>;
00030 
00031 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(TestContext.CurrentContext.Result.FailCount&#32;&lt;=&#32;0)
00032 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_collection">PackageCollection</link>.<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_collection_1a75a698a6c798e48fbddf0e7edbf6db71">Instance</link>.<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_collection_1a96dc5d2b0f975f54efa2a57a93d0cbdb">UpdatePackageCollection</link>(<emphasis role="keyword">true</emphasis>);
00034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00036 
<anchor xml:id="__u_i_tests_8cs_source_1l00037"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a273a4933fc6cb214a847491c20e37a6c">00037</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a273a4933fc6cb214a847491c20e37a6c">SetSearchPackages</link>(IEnumerable&lt;PackageInfo&gt;&#32;packages)
00038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a21922bd694662931ee9b893f1734305f">Factory</link>.<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_mock_operation_factory_1a69850c9fb9da5cbb687083486d539e21">SearchOperation</link>&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_mock_search_operation">MockSearchOperation</link>(<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a21922bd694662931ee9b893f1734305f">Factory</link>,&#32;packages);
00040 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_collection">PackageCollection</link>.<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_collection_1a75a698a6c798e48fbddf0e7edbf6db71">Instance</link>.FetchSearchCache(<emphasis role="keyword">true</emphasis>);
00041 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00042 
<anchor xml:id="__u_i_tests_8cs_source_1l00043"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1abd2ad07e23f3aab12e2514f2121cd80e">00043</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1abd2ad07e23f3aab12e2514f2121cd80e">SetListPackages</link>(IEnumerable&lt;PackageInfo&gt;&#32;packages)
00044 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a21922bd694662931ee9b893f1734305f">Factory</link>.<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_mock_operation_factory_1ac5b0b5d8a6b7202e5f650bbd79e94836">Packages</link>&#32;=&#32;packages;
00046 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_collection">PackageCollection</link>.<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_package_collection_1a75a698a6c798e48fbddf0e7edbf6db71">Instance</link>.FetchListCache(<emphasis role="keyword">true</emphasis>);
00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00048 
<anchor xml:id="__u_i_tests_8cs_source_1l00049"/><link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a87def7aa22c1e0676f7621df8b18594e">00049</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;Error&#32;<link linkend="_class_unity_editor_1_1_package_manager_1_1_u_i_1_1_tests_1_1_u_i_tests_1a87def7aa22c1e0676f7621df8b18594e">MakeError</link>(ErrorCode&#32;code,&#32;<emphasis role="keywordtype">string</emphasis>&#32;message)
00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;error&#32;=&#32;<emphasis role="stringliteral">&quot;{\&quot;errorCode\&quot;&#32;:&#32;&quot;</emphasis>&#32;+&#32;(uint)code&#32;+&#32;<emphasis role="stringliteral">&quot;,&#32;\&quot;message\&quot;&#32;:&#32;\&quot;&quot;</emphasis>&#32;+&#32;message&#32;+&#32;<emphasis role="stringliteral">&quot;\&quot;}&quot;</emphasis>;
00052 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;JsonUtility.FromJson&lt;Error&gt;(error);
00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00054 &#32;&#32;&#32;&#32;}
00055 }
</programlisting></section>
