<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__hide_interaction_hand_when_controller_moving_8cs_source">
<title>HideInteractionHandWhenControllerMoving.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Assets/LeapMotion/Modules/InteractionEngine/Scripts/Utility/HideInteractionHandWhenControllerMoving.cs</primary></indexterm>
<programlisting>00001 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_leap">Leap</link>.<link linkend="_namespace_leap_1_1_unity">Unity</link>.<link linkend="_namespace_leap_1_1_unity_1_1_query">Query</link>;
00002 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00003 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_engine">UnityEngine</link>.Events;
00004 
00005 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_leap_1_1_unity_1_1_interaction_1_1_examples">Leap.Unity.Interaction.Examples</link>&#32;{
00006 
<anchor xml:id="__hide_interaction_hand_when_controller_moving_8cs_source_1l00016"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving">00016</link> &#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving">HideInteractionHandWhenControllerMoving</link>&#32;:&#32;MonoBehaviour&#32;{
00017 
<anchor xml:id="__hide_interaction_hand_when_controller_moving_8cs_source_1l00018"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1ac41ef880d6356a74fbb1e679c847f5f6">00018</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_interaction_x_r_controller">InteractionXRController</link>&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1ac41ef880d6356a74fbb1e679c847f5f6">intCtrl</link>;
<anchor xml:id="__hide_interaction_hand_when_controller_moving_8cs_source_1l00019"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1a23117e52219b46dba0f7f0f95d56ad01">00019</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_interaction_hand">InteractionHand</link>&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1a23117e52219b46dba0f7f0f95d56ad01">intHand</link>;
00020 
<anchor xml:id="__hide_interaction_hand_when_controller_moving_8cs_source_1l00021"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1a247df23110fa6f16e03a8841bb0375ed">00021</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;UnityEvent&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1a247df23110fa6f16e03a8841bb0375ed">OnInteractionHandEnabled</link>;
<anchor xml:id="__hide_interaction_hand_when_controller_moving_8cs_source_1l00022"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1af1f0725c364ebfb7bd814f54b8be4fd1">00022</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;UnityEvent&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1af1f0725c364ebfb7bd814f54b8be4fd1">OnInteractionHandDisabled</link>;
00023 &#32;&#32;&#32;&#32;
00024 &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;_handSeparationDistance&#32;=&#32;0.23f;
00025 &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;_handHoldingDistance&#32;=&#32;0.18f;
00026 
00027 &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;Reset()&#32;{
00028 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1ac41ef880d6356a74fbb1e679c847f5f6">intCtrl</link>&#32;==&#32;<emphasis role="keyword">null</emphasis>)&#32;{
00029 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1ac41ef880d6356a74fbb1e679c847f5f6">intCtrl</link>&#32;=&#32;GetComponent&lt;InteractionXRController&gt;();
00030 &#32;&#32;&#32;&#32;&#32;&#32;}
00031 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1ac41ef880d6356a74fbb1e679c847f5f6">intCtrl</link>&#32;!=&#32;<emphasis role="keyword">null</emphasis>&#32;&amp;&amp;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1a23117e52219b46dba0f7f0f95d56ad01">intHand</link>&#32;==&#32;<emphasis role="keyword">null</emphasis>&#32;&amp;&amp;&#32;this.transform.parent&#32;!=&#32;<emphasis role="keyword">null</emphasis>)&#32;{
00032 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1a23117e52219b46dba0f7f0f95d56ad01">intHand</link>&#32;=&#32;this.transform.parent.GetChildren().Query()
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;.Select(t&#32;=&gt;&#32;t.GetComponent&lt;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_interaction_hand">InteractionHand</link>&gt;())
00034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;.Where(h&#32;=&gt;&#32;h&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;.FirstOrDefault(h&#32;=&gt;&#32;h.isLeft&#32;==&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1ac41ef880d6356a74fbb1e679c847f5f6">intCtrl</link>.<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_interaction_x_r_controller_1aa97e1a14b291fe8057eed37d09aa586d">isLeft</link>);
00036 &#32;&#32;&#32;&#32;&#32;&#32;}
00037 &#32;&#32;&#32;&#32;}
00038 
00039 &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;Update()&#32;{
00040 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1ac41ef880d6356a74fbb1e679c847f5f6">intCtrl</link>&#32;!=&#32;<emphasis role="keyword">null</emphasis>&#32;&amp;&amp;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1ac41ef880d6356a74fbb1e679c847f5f6">intCtrl</link>.isActiveAndEnabled&#32;&amp;&amp;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1a23117e52219b46dba0f7f0f95d56ad01">intHand</link>&#32;!=&#32;<emphasis role="keyword">null</emphasis>)&#32;{
00041 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;shouldIntHandBeEnabled&#32;=&#32;!<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1ac41ef880d6356a74fbb1e679c847f5f6">intCtrl</link>.<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_interaction_x_r_controller_1a362ab5e9ffb5ac5046a869668670b40c">isBeingMoved</link>;
00042 
00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1ac41ef880d6356a74fbb1e679c847f5f6">intCtrl</link>.<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_interaction_x_r_controller_1ab5d50597383ad3e552e3c16d1e91e5a7">isTracked</link>)&#32;{
00044 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;handPos&#32;=&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1a23117e52219b46dba0f7f0f95d56ad01">intHand</link>.<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_interaction_hand_1a4a543fdfc71afe7939be5be59872d3da">position</link>;
00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;ctrlPos&#32;=&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1ac41ef880d6356a74fbb1e679c847f5f6">intCtrl</link>.<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_interaction_x_r_controller_1aaaa34551dbab0d0a98f1ab22f85adaa6">position</link>;
00046 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;handControllerDistanceSqr&#32;=&#32;(handPos&#32;-&#32;ctrlPos).sqrMagnitude;
00047 
00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Also&#32;allow&#32;the&#32;hand&#32;to&#32;be&#32;active&#32;if&#32;it&apos;s&#32;far&#32;enough&#32;away&#32;from&#32;the&#32;controller.</emphasis>
00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(handControllerDistanceSqr&#32;&gt;&#32;_handSeparationDistance&#32;*&#32;_handSeparationDistance)&#32;{
00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;shouldIntHandBeEnabled&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00052 
00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Prevent&#32;the&#32;hand&#32;from&#32;being&#32;active&#32;if&#32;it&apos;s&#32;very&#32;close&#32;to&#32;the&#32;controller.</emphasis>
00054 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(handControllerDistanceSqr&#32;&lt;&#32;_handHoldingDistance&#32;*&#32;_handHoldingDistance)&#32;{
00055 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;shouldIntHandBeEnabled&#32;=&#32;<emphasis role="keyword">false</emphasis>;
00056 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00058 
00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(shouldIntHandBeEnabled&#32;&amp;&amp;&#32;!<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1a23117e52219b46dba0f7f0f95d56ad01">intHand</link>.enabled)&#32;{
00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1a23117e52219b46dba0f7f0f95d56ad01">intHand</link>.enabled&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00061 
00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1a247df23110fa6f16e03a8841bb0375ed">OnInteractionHandEnabled</link>.Invoke();
00063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00064 
00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!shouldIntHandBeEnabled&#32;&amp;&amp;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1a23117e52219b46dba0f7f0f95d56ad01">intHand</link>.enabled)&#32;{
00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1a23117e52219b46dba0f7f0f95d56ad01">intHand</link>.enabled&#32;=&#32;<emphasis role="keyword">false</emphasis>;
00067 
00068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_examples_1_1_hide_interaction_hand_when_controller_moving_1af1f0725c364ebfb7bd814f54b8be4fd1">OnInteractionHandDisabled</link>.Invoke();
00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00070 &#32;&#32;&#32;&#32;&#32;&#32;}
00071 &#32;&#32;&#32;&#32;}
00072 
00073 &#32;&#32;}
00074 
00075 }
</programlisting></section>
