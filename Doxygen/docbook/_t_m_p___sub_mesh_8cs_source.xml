<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__t_m_p___sub_mesh_8cs_source">
<title>TMP_SubMesh.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Library/PackageCache/com.unity.textmeshpro@1.3.0/Scripts/Runtime/TMP_SubMesh.cs</primary></indexterm>
<programlisting>00001 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00002 <emphasis role="keyword">using</emphasis>&#32;System;
00003 <emphasis role="keyword">using</emphasis>&#32;System.Collections;
00004 
00005 <emphasis role="preprocessor">#pragma&#32;warning&#32;disable&#32;0109&#32;//&#32;Disable&#32;warning&#32;due&#32;to&#32;conflict&#32;between&#32;Unity&#32;Editor&#32;DLL&#32;and&#32;Runtime&#32;DLL&#32;related&#32;to&#32;.renderer&#32;property&#32;being&#32;available&#32;in&#32;one&#32;but&#32;not&#32;the&#32;other.&#32;</emphasis>
00006 
00007 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_t_m_pro">TMPro</link>
00008 {
00009 
00010 &#32;&#32;&#32;&#32;[ExecuteInEditMode]
00011 &#32;&#32;&#32;&#32;[RequireComponent(typeof(MeshRenderer))]
00012 &#32;&#32;&#32;&#32;[RequireComponent(typeof(MeshFilter))]
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00013"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh">00013</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh">TMP_SubMesh</link>&#32;:&#32;MonoBehaviour
00014 &#32;&#32;&#32;&#32;{
00018 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___font_asset">TMP_FontAsset</link>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a964077af399140595270238950a3b931">fontAsset</link>
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00019"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a964077af399140595270238950a3b931">00019</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00020 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">return</emphasis>&#32;m_fontAsset;&#32;}
00021 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">set</emphasis>&#32;{&#32;m_fontAsset&#32;=&#32;value;&#32;}
00022 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00023 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[SerializeField]
00024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___font_asset">TMP_FontAsset</link>&#32;m_fontAsset;
00025 
00026 
00030 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sprite_asset">TMP_SpriteAsset</link>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1ab5d0012cbff2dc1c416559cc6cf840ec">spriteAsset</link>
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00031"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1ab5d0012cbff2dc1c416559cc6cf840ec">00031</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00032 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">return</emphasis>&#32;m_spriteAsset;&#32;}
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">set</emphasis>&#32;{&#32;m_spriteAsset&#32;=&#32;value;&#32;}
00034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[SerializeField]
00036 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sprite_asset">TMP_SpriteAsset</link>&#32;m_spriteAsset;
00037 
00038 
00042 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Material&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1ad2670c4fc01057065ace1cbd7e48aa62">material</link>
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00043"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1ad2670c4fc01057065ace1cbd7e48aa62">00043</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00044 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Return&#32;a&#32;new&#32;Instance&#32;of&#32;the&#32;Material&#32;if&#32;none&#32;exists.&#32;Otherwise&#32;return&#32;the&#32;current&#32;Material&#32;Instance.</emphasis>
00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">return</emphasis>&#32;GetMaterial(m_sharedMaterial);&#32;}
00046 
00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Assign&#32;new&#32;font&#32;material</emphasis>
00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">set</emphasis>
00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_sharedMaterial.GetInstanceID()&#32;==&#32;value.GetInstanceID())
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
00052 
00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_sharedMaterial&#32;=&#32;m_material&#32;=&#32;value;
00054 
00055 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_padding&#32;=&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a9bcd237fd39eccac2018a497412504ed">GetPaddingForMaterial</link>();
00056 
00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a130186768b0a54f84638d3b90d3f26a7">SetVerticesDirty</link>();
00058 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a8df49466a47cb2d29a910fb00dfa2af5">SetMaterialDirty</link>();
00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[SerializeField]
00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Material&#32;m_material;
00063 
00064 
00068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Material&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1ac9177ee19f2dc7501888f62ad5c8798d">sharedMaterial</link>
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00069"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1ac9177ee19f2dc7501888f62ad5c8798d">00069</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">return</emphasis>&#32;m_sharedMaterial;&#32;}
00071 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">set</emphasis>&#32;{&#32;SetSharedMaterial(value);&#32;}
00072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[SerializeField]
00074 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Material&#32;m_sharedMaterial;
00075 
00076 
00080 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Material&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1ab77df446a9272aeb7b29e189ed42d408">fallbackMaterial</link>
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00081"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1ab77df446a9272aeb7b29e189ed42d408">00081</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00082 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">return</emphasis>&#32;m_fallbackMaterial;&#32;}
00083 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">set</emphasis>
00084 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00085 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_fallbackMaterial&#32;==&#32;value)&#32;<emphasis role="keywordflow">return</emphasis>;
00086 
00087 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_fallbackMaterial&#32;!=&#32;<emphasis role="keyword">null</emphasis>&#32;&amp;&amp;&#32;m_fallbackMaterial&#32;!=&#32;value)
00088 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TMP_MaterialManager.ReleaseFallbackMaterial(m_fallbackMaterial);
00089 
00090 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_fallbackMaterial&#32;=&#32;value;
00091 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TMP_MaterialManager.AddFallbackMaterialReference(m_fallbackMaterial);
00092 
00093 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SetSharedMaterial(m_fallbackMaterial);
00094 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00095 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00096 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Material&#32;m_fallbackMaterial;
00097 
00098 
00102 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Material&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a323c171d10bb001f23b750d9404b68a8">fallbackSourceMaterial</link>
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00103"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a323c171d10bb001f23b750d9404b68a8">00103</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00104 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">return</emphasis>&#32;m_fallbackSourceMaterial;&#32;}
00105 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">set</emphasis>&#32;{&#32;m_fallbackSourceMaterial&#32;=&#32;value;&#32;}
00106 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00107 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Material&#32;m_fallbackSourceMaterial;
00108 
00109 
00113 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a5eaf8dd69cecbc5c96bcc5ea3b8489ef">isDefaultMaterial</link>
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00114"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a5eaf8dd69cecbc5c96bcc5ea3b8489ef">00114</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00115 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">return</emphasis>&#32;m_isDefaultMaterial;&#32;}
00116 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">set</emphasis>&#32;{&#32;m_isDefaultMaterial&#32;=&#32;value;&#32;}
00117 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00118 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[SerializeField]
00119 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;m_isDefaultMaterial;
00120 
00121 
00125 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1adc8e38d6679306c54598bf48db166a3f">padding</link>
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00126"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1adc8e38d6679306c54598bf48db166a3f">00126</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00127 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">return</emphasis>&#32;m_padding;&#32;}
00128 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">set</emphasis>&#32;{&#32;m_padding&#32;=&#32;value;&#32;}
00129 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00130 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[SerializeField]
00131 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;m_padding;
00132 
00133 
00137 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;Renderer&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a5eebffcd056afe0d3be79f30d611d780">renderer</link>
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00138"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a5eebffcd056afe0d3be79f30d611d780">00138</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00139 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_renderer&#32;==&#32;<emphasis role="keyword">null</emphasis>)&#32;m_renderer&#32;=&#32;GetComponent&lt;Renderer&gt;();
00140 
00141 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;m_renderer;
00142 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00143 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00144 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[SerializeField]
00145 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Renderer&#32;m_renderer;
00146 
00147 
00151 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;MeshFilter&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1aa4bffef3b3907fab7cf2b3c7c632af3b">meshFilter</link>
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00152"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1aa4bffef3b3907fab7cf2b3c7c632af3b">00152</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00153 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>&#32;{&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_meshFilter&#32;==&#32;<emphasis role="keyword">null</emphasis>)&#32;m_meshFilter&#32;=&#32;GetComponent&lt;MeshFilter&gt;();
00154 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;m_meshFilter;
00155 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00156 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00157 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[SerializeField]
00158 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;MeshFilter&#32;m_meshFilter;
00159 
00160 
00164 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Mesh&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1ad6a306d193c7be147604ca07bbd9eb8b">mesh</link>
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00165"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1ad6a306d193c7be147604ca07bbd9eb8b">00165</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00166 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>
00167 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00168 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_mesh&#32;==&#32;<emphasis role="keyword">null</emphasis>)
00169 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00170 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_mesh&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Mesh();
00171 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_mesh.hideFlags&#32;=&#32;HideFlags.HideAndDontSave;
00172 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this.<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1aa4bffef3b3907fab7cf2b3c7c632af3b">meshFilter</link>.mesh&#32;=&#32;m_mesh;
00173 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00174 
00175 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;m_mesh;
00176 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00177 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">set</emphasis>&#32;{&#32;m_mesh&#32;=&#32;value;&#32;}
00178 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00179 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Mesh&#32;m_mesh;
00180 
00184 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//public&#32;BoxCollider&#32;boxCollider</emphasis>
00185 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//{</emphasis>
00186 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;get</emphasis>
00187 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;{</emphasis>
00188 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if&#32;(m_boxCollider&#32;==&#32;null)</emphasis>
00189 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{</emphasis>
00190 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;//</emphasis>
00191 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_boxCollider&#32;=&#32;GetComponent&lt;BoxCollider&gt;();</emphasis>
00192 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if&#32;(m_boxCollider&#32;==&#32;null)</emphasis>
00193 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{</emphasis>
00194 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_boxCollider&#32;=&#32;gameObject.AddComponent&lt;BoxCollider&gt;();</emphasis>
00195 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;gameObject.AddComponent&lt;Rigidbody&gt;();</emphasis>
00196 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}</emphasis>
00197 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}</emphasis>
00198 
00199 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return&#32;m_boxCollider;</emphasis>
00200 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;}</emphasis>
00201 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//}</emphasis>
00202 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//[SerializeField]</emphasis>
00203 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//private&#32;BoxCollider&#32;m_boxCollider;</emphasis>
00204 
00205 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[SerializeField]
00206 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_text_mesh_pro">TextMeshPro</link>&#32;m_TextComponent;
00207 
00208 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[NonSerialized]
00209 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;m_isRegisteredForEvents;
00210 
00211 
00212 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnEnable()
00213 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00214 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Register&#32;Callbacks&#32;for&#32;various&#32;events.</emphasis>
00215 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!m_isRegisteredForEvents)
00216 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00217 <emphasis role="preprocessor">#if&#32;UNITY_EDITOR</emphasis>
00218 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TMPro_EventManager.MATERIAL_PROPERTY_EVENT.Add(ON_MATERIAL_PROPERTY_CHANGED);
00219 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TMPro_EventManager.FONT_PROPERTY_EVENT.Add(ON_FONT_PROPERTY_CHANGED);
00220 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//TMPro_EventManager.TEXTMESHPRO_PROPERTY_EVENT.Add(ON_TEXTMESHPRO_PROPERTY_CHANGED);</emphasis>
00221 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TMPro_EventManager.DRAG_AND_DROP_MATERIAL_EVENT.Add(ON_DRAG_AND_DROP_MATERIAL);
00222 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//TMPro_EventManager.TEXT_STYLE_PROPERTY_EVENT.Add(ON_TEXT_STYLE_CHANGED);</emphasis>
00223 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TMPro_EventManager.SPRITE_ASSET_PROPERTY_EVENT.Add(ON_SPRITE_ASSET_PROPERTY_CHANGED);
00224 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//TMPro_EventManager.TMP_SETTINGS_PROPERTY_EVENT.Add(ON_TMP_SETTINGS_CHANGED);</emphasis>
00225 <emphasis role="preprocessor">#endif</emphasis>
00226 
00227 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_isRegisteredForEvents&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00228 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00229 
00230 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Make&#32;the&#32;geometry&#32;visible&#32;when&#32;the&#32;object&#32;is&#32;enabled.</emphasis>
00231 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1aa4bffef3b3907fab7cf2b3c7c632af3b">meshFilter</link>.sharedMesh&#32;=&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1ad6a306d193c7be147604ca07bbd9eb8b">mesh</link>;
00232 
00233 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Update&#32;_ClipRect&#32;values</emphasis>
00234 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_sharedMaterial&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00235 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_sharedMaterial.SetVector(ShaderUtilities.ID_ClipRect,&#32;<emphasis role="keyword">new</emphasis>&#32;Vector4(-32767,&#32;-32767,&#32;32767,&#32;32767));
00236 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00237 
00238 
00239 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnDisable()
00240 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00241 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Hide&#32;the&#32;geometry&#32;when&#32;the&#32;object&#32;is&#32;disabled.</emphasis>
00242 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_meshFilter.sharedMesh&#32;=&#32;<emphasis role="keyword">null</emphasis>;
00243 
00244 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_fallbackMaterial&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00245 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00246 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TMP_MaterialManager.ReleaseFallbackMaterial(m_fallbackMaterial);
00247 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_fallbackMaterial&#32;=&#32;<emphasis role="keyword">null</emphasis>;
00248 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00249 
00250 
00251 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00252 
00253 
00254 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnDestroy()
00255 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00256 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Destroy&#32;Mesh</emphasis>
00257 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_mesh&#32;!=&#32;<emphasis role="keyword">null</emphasis>)&#32;DestroyImmediate(m_mesh);
00258 
00259 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_fallbackMaterial&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00260 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00261 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TMP_MaterialManager.ReleaseFallbackMaterial(m_fallbackMaterial);
00262 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_fallbackMaterial&#32;=&#32;<emphasis role="keyword">null</emphasis>;
00263 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00264 
00265 <emphasis role="preprocessor">#if&#32;UNITY_EDITOR</emphasis>
00266 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Unregister&#32;the&#32;event&#32;this&#32;object&#32;was&#32;listening&#32;to</emphasis>
00267 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TMPro_EventManager.MATERIAL_PROPERTY_EVENT.Remove(ON_MATERIAL_PROPERTY_CHANGED);
00268 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TMPro_EventManager.FONT_PROPERTY_EVENT.Remove(ON_FONT_PROPERTY_CHANGED);
00269 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//TMPro_EventManager.TEXTMESHPRO_PROPERTY_EVENT.Remove(ON_TEXTMESHPRO_PROPERTY_CHANGED);</emphasis>
00270 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TMPro_EventManager.DRAG_AND_DROP_MATERIAL_EVENT.Remove(ON_DRAG_AND_DROP_MATERIAL);
00271 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//TMPro_EventManager.TEXT_STYLE_PROPERTY_EVENT.Remove(ON_TEXT_STYLE_CHANGED);</emphasis>
00272 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TMPro_EventManager.SPRITE_ASSET_PROPERTY_EVENT.Remove(ON_SPRITE_ASSET_PROPERTY_CHANGED);
00273 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//TMPro_EventManager.TMP_SETTINGS_PROPERTY_EVENT.Remove(ON_TMP_SETTINGS_CHANGED);</emphasis>
00274 <emphasis role="preprocessor">#endif</emphasis>
00275 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_isRegisteredForEvents&#32;=&#32;<emphasis role="keyword">false</emphasis>;
00276 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00277 
00278 
00279 
00280 <emphasis role="preprocessor">#if&#32;UNITY_EDITOR</emphasis>
00281 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Event&#32;received&#32;when&#32;custom&#32;material&#32;editor&#32;properties&#32;are&#32;changed.</emphasis>
00282 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;ON_MATERIAL_PROPERTY_CHANGED(<emphasis role="keywordtype">bool</emphasis>&#32;isChanged,&#32;Material&#32;mat)
00283 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00284 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//Debug.Log(&quot;***&#32;ON_MATERIAL_PROPERTY_CHANGED&#32;***&quot;);</emphasis>
00285 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;targetMaterialID&#32;=&#32;mat.GetInstanceID();
00286 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;sharedMaterialID&#32;=&#32;m_sharedMaterial.GetInstanceID();
00287 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;fallbackSourceMaterialID&#32;=&#32;m_fallbackSourceMaterial&#32;==&#32;<emphasis role="keyword">null</emphasis>&#32;?&#32;0&#32;:&#32;m_fallbackSourceMaterial.GetInstanceID();
00288 
00289 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Filter&#32;events&#32;and&#32;return&#32;if&#32;the&#32;affected&#32;material&#32;is&#32;not&#32;this&#32;object&apos;s&#32;material.</emphasis>
00290 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(targetMaterialID&#32;!=&#32;sharedMaterialID)
00291 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00292 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Check&#32;if&#32;event&#32;applies&#32;to&#32;the&#32;source&#32;fallback&#32;material</emphasis>
00293 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_fallbackMaterial&#32;!=&#32;<emphasis role="keyword">null</emphasis>&#32;&amp;&amp;&#32;fallbackSourceMaterialID&#32;==&#32;targetMaterialID)
00294 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TMP_MaterialManager.CopyMaterialPresetProperties(mat,&#32;m_fallbackMaterial);
00295 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
00296 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
00297 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00298 
00299 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_TextComponent&#32;==&#32;<emphasis role="keyword">null</emphasis>)&#32;m_TextComponent&#32;=&#32;GetComponentInParent&lt;TextMeshPro&gt;();
00300 
00301 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_padding&#32;=&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a9bcd237fd39eccac2018a497412504ed">GetPaddingForMaterial</link>();
00302 
00303 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_TextComponent.<link linkend="_class_t_m_pro_1_1_t_m_p___text_1a7e0fb1ed735ea717f9b98373b9de6e73">havePropertiesChanged</link>&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00304 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_TextComponent.<link linkend="_class_t_m_pro_1_1_text_mesh_pro_1a8ca7b09fd7f2319069c84e72c0db0fa8">SetVerticesDirty</link>();
00305 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00306 
00307 
00308 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Event&#32;to&#32;Track&#32;Material&#32;Changed&#32;resulting&#32;from&#32;Drag-n-drop.</emphasis>
00309 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;ON_DRAG_AND_DROP_MATERIAL(GameObject&#32;obj,&#32;Material&#32;currentMaterial,&#32;Material&#32;newMaterial)
00310 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00311 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Check&#32;if&#32;event&#32;applies&#32;to&#32;this&#32;current&#32;object</emphasis>
00312 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;#if&#32;UNITY_2018_2_OR_NEWER</emphasis>
00313 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(obj&#32;==&#32;gameObject&#32;||&#32;<link linkend="_namespace_unity_editor">UnityEditor</link>.PrefabUtility.GetCorrespondingObjectFromSource(gameObject)&#32;==&#32;obj)
00314 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;#<emphasis role="keywordflow">else</emphasis>
00315 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(obj&#32;==&#32;gameObject&#32;||&#32;<link linkend="_namespace_unity_editor">UnityEditor</link>.PrefabUtility.GetPrefabParent(gameObject)&#32;==&#32;obj)
00316 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;#endif
00317 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00318 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!m_isDefaultMaterial)&#32;<emphasis role="keywordflow">return</emphasis>;
00319 
00320 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Make&#32;sure&#32;we&#32;have&#32;a&#32;valid&#32;reference&#32;to&#32;the&#32;renderer.</emphasis>
00321 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_renderer&#32;==&#32;<emphasis role="keyword">null</emphasis>)&#32;m_renderer&#32;=&#32;GetComponent&lt;Renderer&gt;();
00322 
00323 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespace_unity_editor">UnityEditor</link>.Undo.RecordObject(<emphasis role="keyword">this</emphasis>,&#32;<emphasis role="stringliteral">&quot;Material&#32;Assignment&quot;</emphasis>);
00324 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespace_unity_editor">UnityEditor</link>.Undo.RecordObject(m_renderer,&#32;<emphasis role="stringliteral">&quot;Material&#32;Assignment&quot;</emphasis>);
00325 
00326 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SetSharedMaterial(newMaterial);
00327 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_TextComponent.<link linkend="_class_t_m_pro_1_1_t_m_p___text_1a7e0fb1ed735ea717f9b98373b9de6e73">havePropertiesChanged</link>&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00328 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00329 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00330 
00331 
00332 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Event&#32;received&#32;when&#32;font&#32;asset&#32;properties&#32;are&#32;changed&#32;in&#32;Font&#32;Inspector</emphasis>
00333 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;ON_SPRITE_ASSET_PROPERTY_CHANGED(<emphasis role="keywordtype">bool</emphasis>&#32;isChanged,&#32;<link linkend="_namespace_unity_engine">UnityEngine</link>.Object&#32;obj)
00334 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00335 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//if&#32;(spriteSheet&#32;!=&#32;null&#32;&amp;&amp;&#32;(obj&#32;as&#32;TMP_SpriteAsset&#32;==&#32;m_spriteAsset&#32;||&#32;obj&#32;as&#32;Texture2D&#32;==&#32;m_spriteAsset.spriteSheet))</emphasis>
00336 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//{</emphasis>
00337 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_TextComponent&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00338 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00339 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_TextComponent.<link linkend="_class_t_m_pro_1_1_t_m_p___text_1a7e0fb1ed735ea717f9b98373b9de6e73">havePropertiesChanged</link>&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00340 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//m_TextComponent.SetVerticesDirty();</emphasis>
00341 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00342 
00343 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//}</emphasis>
00344 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00345 
00346 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Event&#32;received&#32;when&#32;font&#32;asset&#32;properties&#32;are&#32;changed&#32;in&#32;Font&#32;Inspector</emphasis>
00347 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;ON_FONT_PROPERTY_CHANGED(<emphasis role="keywordtype">bool</emphasis>&#32;isChanged,&#32;TMP_FontAsset&#32;font)
00348 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00349 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_fontAsset&#32;!=&#32;<emphasis role="keyword">null</emphasis>&#32;&amp;&amp;&#32;font.GetInstanceID()&#32;==&#32;m_fontAsset.GetInstanceID())
00350 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00351 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Copy&#32;Normal&#32;and&#32;Bold&#32;Weight</emphasis>
00352 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_fallbackMaterial&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00353 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00354 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_fallbackMaterial.SetFloat(ShaderUtilities.ID_WeightNormal,&#32;m_fontAsset.<link linkend="_class_t_m_pro_1_1_t_m_p___font_asset_1a5e537de3b95199926e373e61b27fc197">normalStyle</link>);
00355 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_fallbackMaterial.SetFloat(ShaderUtilities.ID_WeightBold,&#32;m_fontAsset.<link linkend="_class_t_m_pro_1_1_t_m_p___font_asset_1a16dbe5f4d6f79766b9cd9745c94bbc9c">boldStyle</link>);
00356 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00357 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00358 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00359 
00363 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;ON_TMP_SETTINGS_CHANGED()
00364 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00365 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;//Debug.Log(&quot;TMP&#32;Setting&#32;have&#32;changed.&quot;);</emphasis>
00366 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;//SetVerticesDirty();</emphasis>
00367 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;SetMaterialDirty();</emphasis>
00368 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00369 <emphasis role="preprocessor">#endif</emphasis>
00370 
00371 
00372 
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00373"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1aab11f751e99fd3566e382584cc334a4d">00373</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh">TMP_SubMesh</link>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1aab11f751e99fd3566e382584cc334a4d">AddSubTextObject</link>(<link linkend="_class_t_m_pro_1_1_text_mesh_pro">TextMeshPro</link>&#32;textComponent,&#32;<link linkend="_struct_t_m_pro_1_1_material_reference">MaterialReference</link>&#32;materialReference)
00374 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00375 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;GameObject&#32;go&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;GameObject(<emphasis role="stringliteral">&quot;TMP&#32;SubMesh&#32;[&quot;</emphasis>&#32;+&#32;materialReference.<link linkend="_struct_t_m_pro_1_1_material_reference_1ab5f2e88a52f52cea5eb3f62ff9d452ef">material</link>.name&#32;+&#32;<emphasis role="stringliteral">&quot;]&quot;</emphasis>,&#32;typeof(<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh">TMP_SubMesh</link>));
00376 
00377 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh">TMP_SubMesh</link>&#32;subMesh&#32;=&#32;go.GetComponent&lt;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh">TMP_SubMesh</link>&gt;();
00378 
00379 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;go.transform.SetParent(textComponent.<link linkend="_class_t_m_pro_1_1_text_mesh_pro_1a6748c431d98cca84eb55e16ad2a636ac">transform</link>,&#32;<emphasis role="keyword">false</emphasis>);
00380 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;go.transform.localPosition&#32;=&#32;Vector3.zero;
00381 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;go.transform.localRotation&#32;=&#32;Quaternion.identity;
00382 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;go.transform.localScale&#32;=&#32;Vector3.one;
00383 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;go.layer&#32;=&#32;textComponent.gameObject.layer;
00384 
00385 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;subMesh.m_meshFilter&#32;=&#32;go.GetComponent&lt;MeshFilter&gt;();
00386 
00387 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;subMesh.m_TextComponent&#32;=&#32;textComponent;
00388 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;subMesh.m_fontAsset&#32;=&#32;materialReference.<link linkend="_struct_t_m_pro_1_1_material_reference_1a57d6038454b7627a678c178751ae7b2e">fontAsset</link>;
00389 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;subMesh.m_spriteAsset&#32;=&#32;materialReference.<link linkend="_struct_t_m_pro_1_1_material_reference_1a1ebf5e832a0bc9cab36327cc0208362e">spriteAsset</link>;
00390 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;subMesh.m_isDefaultMaterial&#32;=&#32;materialReference.<link linkend="_struct_t_m_pro_1_1_material_reference_1ab986ec897bc828a682be0bc9d254e0a5">isDefaultMaterial</link>;
00391 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;subMesh.SetSharedMaterial(materialReference.<link linkend="_struct_t_m_pro_1_1_material_reference_1ab5f2e88a52f52cea5eb3f62ff9d452ef">material</link>);
00392 
00393 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;subMesh.<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a5eebffcd056afe0d3be79f30d611d780">renderer</link>.sortingLayerID&#32;=&#32;textComponent.<link linkend="_class_t_m_pro_1_1_text_mesh_pro_1a883e65b0b1fc2ea28d235a87c333ad71">renderer</link>.sortingLayerID;
00394 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;subMesh.<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a5eebffcd056afe0d3be79f30d611d780">renderer</link>.sortingOrder&#32;=&#32;textComponent.<link linkend="_class_t_m_pro_1_1_text_mesh_pro_1a883e65b0b1fc2ea28d235a87c333ad71">renderer</link>.sortingOrder;
00395 
00396 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;subMesh;
00397 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00398 
00399 
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00400"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a373007bf6b71e0134f7f3980f841775b">00400</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a373007bf6b71e0134f7f3980f841775b">DestroySelf</link>()
00401 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00402 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Destroy(this.gameObject,&#32;1f);
00403 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00404 
00405 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Function&#32;called&#32;internally&#32;when&#32;a&#32;new&#32;material&#32;is&#32;assigned&#32;via&#32;the&#32;fontMaterial&#32;property.</emphasis>
00406 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Material&#32;GetMaterial(Material&#32;mat)
00407 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00408 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Check&#32;in&#32;case&#32;Object&#32;is&#32;disabled.&#32;If&#32;so,&#32;we&#32;don&apos;t&#32;have&#32;a&#32;valid&#32;reference&#32;to&#32;the&#32;Renderer.</emphasis>
00409 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;This&#32;can&#32;occur&#32;when&#32;the&#32;Duplicate&#32;Material&#32;Context&#32;menu&#32;is&#32;used&#32;on&#32;an&#32;inactive&#32;object.</emphasis>
00410 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_renderer&#32;==&#32;<emphasis role="keyword">null</emphasis>)
00411 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_renderer&#32;=&#32;GetComponent&lt;Renderer&gt;();
00412 
00413 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Create&#32;Instance&#32;Material&#32;only&#32;if&#32;the&#32;new&#32;material&#32;is&#32;not&#32;the&#32;same&#32;instance&#32;previously&#32;used.</emphasis>
00414 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_material&#32;==&#32;<emphasis role="keyword">null</emphasis>&#32;||&#32;m_material.GetInstanceID()&#32;!=&#32;mat.GetInstanceID())
00415 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_material&#32;=&#32;CreateMaterialInstance(mat);
00416 
00417 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_sharedMaterial&#32;=&#32;m_material;
00418 
00419 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Compute&#32;and&#32;Set&#32;new&#32;padding&#32;values&#32;for&#32;this&#32;new&#32;material.&#32;</emphasis>
00420 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_padding&#32;=&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a9bcd237fd39eccac2018a497412504ed">GetPaddingForMaterial</link>();
00421 
00422 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a130186768b0a54f84638d3b90d3f26a7">SetVerticesDirty</link>();
00423 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a8df49466a47cb2d29a910fb00dfa2af5">SetMaterialDirty</link>();
00424 
00425 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;m_sharedMaterial;
00426 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00427 
00428 
00434 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Material&#32;CreateMaterialInstance(Material&#32;source)
00435 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00436 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Material&#32;mat&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Material(source);
00437 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mat.shaderKeywords&#32;=&#32;source.shaderKeywords;
00438 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mat.name&#32;+=&#32;<emphasis role="stringliteral">&quot;&#32;(Instance)&quot;</emphasis>;
00439 
00440 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;mat;
00441 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00442 
00443 
00448 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Material&#32;GetSharedMaterial()
00449 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00450 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_renderer&#32;==&#32;<emphasis role="keyword">null</emphasis>)
00451 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_renderer&#32;=&#32;GetComponent&lt;Renderer&gt;();
00452 
00453 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;m_renderer.sharedMaterial;
00454 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00455 
00456 
00461 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;SetSharedMaterial(Material&#32;mat)
00462 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00463 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//Debug.Log(&quot;***&#32;SetSharedMaterial()&#32;***&#32;FRAME&#32;(&quot;&#32;+&#32;Time.frameCount&#32;+&#32;&quot;)&quot;);</emphasis>
00464 
00465 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Assign&#32;new&#32;material.</emphasis>
00466 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_sharedMaterial&#32;=&#32;mat;
00467 
00468 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Compute&#32;and&#32;Set&#32;new&#32;padding&#32;values&#32;for&#32;this&#32;new&#32;material.&#32;</emphasis>
00469 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_padding&#32;=&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a9bcd237fd39eccac2018a497412504ed">GetPaddingForMaterial</link>();
00470 
00471 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a8df49466a47cb2d29a910fb00dfa2af5">SetMaterialDirty</link>();
00472 
00473 <emphasis role="preprocessor">#if&#32;UNITY_EDITOR</emphasis>
00474 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_sharedMaterial&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00475 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;gameObject.name&#32;=&#32;<emphasis role="stringliteral">&quot;TMP&#32;SubMesh&#32;[&quot;</emphasis>&#32;+&#32;m_sharedMaterial.name&#32;+&#32;<emphasis role="stringliteral">&quot;]&quot;</emphasis>;
00476 <emphasis role="preprocessor">#endif</emphasis>
00477 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00478 
00479 
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00484"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a9bcd237fd39eccac2018a497412504ed">00484</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a9bcd237fd39eccac2018a497412504ed">GetPaddingForMaterial</link>()
00485 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00486 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1adc8e38d6679306c54598bf48db166a3f">padding</link>&#32;=&#32;ShaderUtilities.GetPadding(m_sharedMaterial,&#32;m_TextComponent.<link linkend="_class_t_m_pro_1_1_t_m_p___text_1aa06b7d7a7054e899c0be4fa8ed9943b5">extraPadding</link>,&#32;m_TextComponent.<link linkend="_class_t_m_pro_1_1_t_m_p___text_1a2ad3845a02f7fd35f5b9bd7a34f5bd52">isUsingBold</link>);
00487 
00488 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1adc8e38d6679306c54598bf48db166a3f">padding</link>;
00489 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00490 
00491 
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00497"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a5a77ba8ab35cf4a0570069b95527cbff">00497</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a5a77ba8ab35cf4a0570069b95527cbff">UpdateMeshPadding</link>(<emphasis role="keywordtype">bool</emphasis>&#32;isExtraPadding,&#32;<emphasis role="keywordtype">bool</emphasis>&#32;isUsingBold)
00498 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00499 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_padding&#32;=&#32;ShaderUtilities.GetPadding(m_sharedMaterial,&#32;isExtraPadding,&#32;isUsingBold);
00500 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00501 
00502 
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00506"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a130186768b0a54f84638d3b90d3f26a7">00506</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a130186768b0a54f84638d3b90d3f26a7">SetVerticesDirty</link>()
00507 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00508 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!this.enabled)
00509 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
00510 
00511 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;This&#32;is&#32;called&#32;on&#32;the&#32;parent&#32;TextMeshPro&#32;component.</emphasis>
00512 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_TextComponent&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00513 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00514 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_TextComponent.<link linkend="_class_t_m_pro_1_1_t_m_p___text_1a7e0fb1ed735ea717f9b98373b9de6e73">havePropertiesChanged</link>&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00515 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_TextComponent.<link linkend="_class_t_m_pro_1_1_text_mesh_pro_1a8ca7b09fd7f2319069c84e72c0db0fa8">SetVerticesDirty</link>();
00516 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00517 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00518 
00519 
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00523"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a8df49466a47cb2d29a910fb00dfa2af5">00523</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a8df49466a47cb2d29a910fb00dfa2af5">SetMaterialDirty</link>()
00524 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00525 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//if&#32;(!this.enabled)</emphasis>
00526 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;return;</emphasis>
00527 
00528 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a36148dca95029b37eed7ad450024d886">UpdateMaterial</link>();
00529 
00530 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//m_materialDirty&#32;=&#32;true;</emphasis>
00531 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//TMP_UpdateRegistry.RegisterCanvasElementForGraphicRebuild((ICanvasElement)this);</emphasis>
00532 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00533 
00534 
<anchor xml:id="__t_m_p___sub_mesh_8cs_source_1l00538"/><link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a36148dca95029b37eed7ad450024d886">00538</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a36148dca95029b37eed7ad450024d886">UpdateMaterial</link>()
00539 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00540 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//Debug.Log(&quot;***&#32;STO&#32;-&#32;UpdateMaterial()&#32;***&#32;FRAME&#32;(&quot;&#32;+&#32;Time.frameCount&#32;+&#32;&quot;)&quot;);</emphasis>
00541 
00542 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//if&#32;(!this.enabled)</emphasis>
00543 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;return;</emphasis>
00544 
00545 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_renderer&#32;==&#32;<emphasis role="keyword">null</emphasis>)&#32;m_renderer&#32;=&#32;this.<link linkend="_class_t_m_pro_1_1_t_m_p___sub_mesh_1a5eebffcd056afe0d3be79f30d611d780">renderer</link>;
00546 
00547 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_renderer.sharedMaterial&#32;=&#32;m_sharedMaterial;
00548 
00549 <emphasis role="preprocessor">#if&#32;UNITY_EDITOR</emphasis>
00550 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_sharedMaterial&#32;!=&#32;<emphasis role="keyword">null</emphasis>&#32;&amp;&amp;&#32;gameObject.name&#32;!=&#32;<emphasis role="stringliteral">&quot;TMP&#32;SubMesh&#32;[&quot;</emphasis>&#32;+&#32;m_sharedMaterial.name&#32;+&#32;<emphasis role="stringliteral">&quot;]&quot;</emphasis>)
00551 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;gameObject.name&#32;=&#32;<emphasis role="stringliteral">&quot;TMP&#32;SubMesh&#32;[&quot;</emphasis>&#32;+&#32;m_sharedMaterial.name&#32;+&#32;<emphasis role="stringliteral">&quot;]&quot;</emphasis>;
00552 <emphasis role="preprocessor">#endif</emphasis>
00553 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00554 
00558 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//public&#32;void&#32;UpdateColliders(int&#32;vertexCount)</emphasis>
00559 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//{</emphasis>
00560 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;if&#32;(this.boxCollider&#32;==&#32;null)&#32;return;</emphasis>
00561 
00562 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;Vector2&#32;bl&#32;=&#32;TMP_Math.MAX_16BIT;</emphasis>
00563 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;Vector2&#32;tr&#32;=&#32;TMP_Math.MIN_16BIT;</emphasis>
00564 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;//&#32;Compute&#32;the&#32;bounds&#32;of&#32;the&#32;sub&#32;text&#32;object&#32;mesh&#32;(excluding&#32;the&#32;transform&#32;position).</emphasis>
00565 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;for&#32;(int&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;vertexCount;&#32;i++)</emphasis>
00566 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;{</emphasis>
00567 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bl.x&#32;=&#32;Mathf.Min(bl.x,&#32;m_mesh.vertices[i].x);</emphasis>
00568 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bl.y&#32;=&#32;Mathf.Min(bl.y,&#32;m_mesh.vertices[i].y);</emphasis>
00569 
00570 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;tr.x&#32;=&#32;Mathf.Max(tr.x,&#32;m_mesh.vertices[i].x);</emphasis>
00571 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;tr.y&#32;=&#32;Mathf.Max(tr.y,&#32;m_mesh.vertices[i].y);</emphasis>
00572 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;}</emphasis>
00573 
00574 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;Vector3&#32;center&#32;=&#32;(bl&#32;+&#32;tr)&#32;/&#32;2;</emphasis>
00575 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;Vector3&#32;size&#32;=&#32;tr&#32;-&#32;bl;</emphasis>
00576 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;size.z&#32;=&#32;.1f;</emphasis>
00577 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;this.boxCollider.center&#32;=&#32;center;</emphasis>
00578 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;this.boxCollider.size&#32;=&#32;size;</emphasis>
00579 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//}</emphasis>
00580 &#32;&#32;&#32;&#32;}
00581 }
</programlisting></section>
