<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__steam_v_r___copy_example_input_files_8cs_source">
<title>SteamVR_CopyExampleInputFiles.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Assets/SteamVR/Input/Editor/SteamVR_CopyExampleInputFiles.cs</primary></indexterm>
<programlisting>00001 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00002 <emphasis role="keyword">using</emphasis>&#32;System.Collections;
00003 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_editor">UnityEditor</link>;
00004 <emphasis role="keyword">using</emphasis>&#32;System;
00005 <emphasis role="keyword">using</emphasis>&#32;System.Linq;
00006 <emphasis role="keyword">using</emphasis>&#32;System.IO;
00007 
00008 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_valve_1_1_v_r">Valve.VR</link>
00009 {
<anchor xml:id="__steam_v_r___copy_example_input_files_8cs_source_1l00010"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___copy_example_input_files">00010</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___copy_example_input_files">SteamVR_CopyExampleInputFiles</link>&#32;:&#32;Editor
00011 &#32;&#32;&#32;&#32;{
<anchor xml:id="__steam_v_r___copy_example_input_files_8cs_source_1l00012"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___copy_example_input_files_1a684bbe28279285b6c21da7f8b7928322">00012</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">string</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___copy_example_input_files_1a684bbe28279285b6c21da7f8b7928322">steamVRInputExampleJSONCopiedKey</link>&#32;=&#32;<emphasis role="stringliteral">&quot;SteamVR_Input_CopiedExamples&quot;</emphasis>;
00013 
<anchor xml:id="__steam_v_r___copy_example_input_files_8cs_source_1l00014"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___copy_example_input_files_1aa0589f2ba60c395b247ed030d40e045c">00014</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">string</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___copy_example_input_files_1aa0589f2ba60c395b247ed030d40e045c">exampleJSONFolderName</link>&#32;=&#32;<emphasis role="stringliteral">&quot;ExampleJSON&quot;</emphasis>;
00015 
00016 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[<link linkend="_namespace_unity_editor">UnityEditor</link>.Callbacks.DidReloadScripts]
00017 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnReloadScripts()
00018 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___copy_example_input_files_1aab55e4ea2f323bb32c0977f3c412fc0a">CopyFiles</link>();
00020 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00021 
<anchor xml:id="__steam_v_r___copy_example_input_files_8cs_source_1l00022"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___copy_example_input_files_1aab55e4ea2f323bb32c0977f3c412fc0a">00022</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___copy_example_input_files_1aab55e4ea2f323bb32c0977f3c412fc0a">CopyFiles</link>(<emphasis role="keywordtype">bool</emphasis>&#32;force&#32;=&#32;<emphasis role="keyword">false</emphasis>)
00023 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;hasCopied&#32;=&#32;EditorPrefs.GetBool(<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___copy_example_input_files_1a684bbe28279285b6c21da7f8b7928322">steamVRInputExampleJSONCopiedKey</link>,&#32;<emphasis role="keyword">false</emphasis>);
00025 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(hasCopied&#32;==&#32;<emphasis role="keyword">false</emphasis>&#32;||&#32;force&#32;==&#32;<emphasis role="keyword">true</emphasis>)
00026 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00027 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">string</emphasis>&#32;actionsFilePath&#32;=&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___settings">SteamVR_Settings</link>.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___settings_1aba985fd967a79dc71cfc9078103f68b4">instance</link>.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___settings_1a6baa46b6747cc8d10f2b3dc218d1b39b">actionsFilePath</link>;
00028 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;exists&#32;=&#32;File.Exists(actionsFilePath);
00029 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(exists&#32;==&#32;<emphasis role="keyword">false</emphasis>)
00030 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00031 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;MonoScript[]&#32;monoScripts&#32;=&#32;MonoImporter.GetAllRuntimeMonoScripts();
00032 
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Type&#32;steamVRInputType&#32;=&#32;typeof(<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___input">SteamVR_Input</link>);
00034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;MonoScript&#32;monoScript&#32;=&#32;monoScripts.FirstOrDefault(script&#32;=&gt;&#32;script.GetClass()&#32;==&#32;steamVRInputType);
00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">string</emphasis>&#32;path&#32;=&#32;AssetDatabase.GetAssetPath(monoScript);
00036 
00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;lastIndex&#32;=&#32;path.LastIndexOf(<emphasis role="stringliteral">&quot;/&quot;</emphasis>);
00038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;path&#32;=&#32;path.Substring(0,&#32;lastIndex&#32;+&#32;1);
00039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;path&#32;+=&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___copy_example_input_files_1aa0589f2ba60c395b247ed030d40e045c">exampleJSONFolderName</link>;
00040 
00041 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">string</emphasis>&#32;dataPath&#32;=&#32;<link linkend="_namespace_valve_1_1_v_r_1aecd07a81fe79a9f96c6787513e2d98e4ae498749f3c42246d50b15c81c101d988">Application</link>.dataPath;
00042 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lastIndex&#32;=&#32;dataPath.LastIndexOf(<emphasis role="stringliteral">&quot;/Assets&quot;</emphasis>);
00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dataPath&#32;=&#32;dataPath.Substring(0,&#32;lastIndex&#32;+&#32;1);
00044 
00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;path&#32;=&#32;dataPath&#32;+&#32;path;
00046 
00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">string</emphasis>[]&#32;files&#32;=&#32;Directory.GetFiles(path,&#32;<emphasis role="stringliteral">&quot;*.json&quot;</emphasis>);
00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">foreach</emphasis>&#32;(<emphasis role="keywordtype">string</emphasis>&#32;file&#32;<emphasis role="keywordflow">in</emphasis>&#32;files)
00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lastIndex&#32;=&#32;file.LastIndexOf(<emphasis role="stringliteral">&quot;\\&quot;</emphasis>);
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">string</emphasis>&#32;filename&#32;=&#32;file.Substring(lastIndex&#32;+&#32;1);
00052 
00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">string</emphasis>&#32;newPath&#32;=&#32;Path.Combine(dataPath,&#32;filename);
00054 
00055 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">try</emphasis>
00056 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;File.Copy(file,&#32;newPath,&#32;<emphasis role="keyword">false</emphasis>);
00058 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Debug.Log(<emphasis role="stringliteral">&quot;&lt;b&gt;[SteamVR]&lt;/b&gt;&#32;Copied&#32;example&#32;input&#32;JSON&#32;to&#32;path:&#32;&quot;</emphasis>&#32;+&#32;newPath);
00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">catch</emphasis>
00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Debug.LogError(<emphasis role="stringliteral">&quot;&lt;b&gt;[SteamVR]&lt;/b&gt;&#32;Could&#32;not&#32;copy&#32;file:&#32;&quot;</emphasis>&#32;+&#32;file&#32;+&#32;<emphasis role="stringliteral">&quot;&#32;to&#32;path:&#32;&quot;</emphasis>&#32;+&#32;newPath);
00063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00065 
00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;EditorPrefs.SetBool(<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___copy_example_input_files_1a684bbe28279285b6c21da7f8b7928322">steamVRInputExampleJSONCopiedKey</link>,&#32;<emphasis role="keyword">true</emphasis>);
00067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00070 &#32;&#32;&#32;&#32;}
00071 }
</programlisting></section>
