<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__u_i_element_8cs_source">
<title>UIElement.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Assets/SteamVR/InteractionSystem/Core/Scripts/UIElement.cs</primary></indexterm>
<programlisting>00001 <emphasis role="comment">//=======&#32;Copyright&#32;(c)&#32;Valve&#32;Corporation,&#32;All&#32;rights&#32;reserved.&#32;===============</emphasis>
00002 <emphasis role="comment">//</emphasis>
00003 <emphasis role="comment">//&#32;Purpose:&#32;UIElement&#32;that&#32;responds&#32;to&#32;VR&#32;hands&#32;and&#32;generates&#32;UnityEvents</emphasis>
00004 <emphasis role="comment">//</emphasis>
00005 <emphasis role="comment">//=============================================================================</emphasis>
00006 
00007 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00008 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_engine">UnityEngine</link>.Events;
00009 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_engine">UnityEngine</link>.UI;
00010 <emphasis role="keyword">using</emphasis>&#32;System;
00011 
00012 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_valve_1_1_v_r_1_1_interaction_system">Valve.VR.InteractionSystem</link>
00013 {
00014 &#32;&#32;&#32;&#32;<emphasis role="comment">//-------------------------------------------------------------------------</emphasis>
00015 &#32;&#32;&#32;&#32;[RequireComponent(&#32;typeof(&#32;Interactable&#32;)&#32;)]
<anchor xml:id="__u_i_element_8cs_source_1l00016"/><link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element">00016</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element">UIElement</link>&#32;:&#32;MonoBehaviour
00017 &#32;&#32;&#32;&#32;{
<anchor xml:id="__u_i_element_8cs_source_1l00018"/><link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1a751b43bce40762d303a7c32da3f7e2a8">00018</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;CustomEvents.UnityEventHand&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1a751b43bce40762d303a7c32da3f7e2a8">onHandClick</link>;
00019 
<anchor xml:id="__u_i_element_8cs_source_1l00020"/><link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1ae9b3f4e376147d62b135e0854f3f5c2b">00020</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_hand">Hand</link>&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1ae9b3f4e376147d62b135e0854f3f5c2b">currentHand</link>;
00021 
00022 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//-------------------------------------------------</emphasis>
<anchor xml:id="__u_i_element_8cs_source_1l00023"/><link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1a85ab59351314bba761c53a89f249e246">00023</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1a85ab59351314bba761c53a89f249e246">Awake</link>()
00024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00025 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Button&#32;button&#32;=&#32;GetComponent&lt;Button&gt;();
00026 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(&#32;button&#32;)
00027 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00028 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;button.onClick.AddListener(&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1af4aa0f9d62309d5299ed208c524da1d1">OnButtonClick</link>&#32;);
00029 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00030 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00031 
00032 
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//-------------------------------------------------</emphasis>
<anchor xml:id="__u_i_element_8cs_source_1l00034"/><link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1aba8e58f6a13297d62df46b9c68e076ea">00034</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1aba8e58f6a13297d62df46b9c68e076ea">OnHandHoverBegin</link>(&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_hand">Hand</link>&#32;hand&#32;)
00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00036 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1ae9b3f4e376147d62b135e0854f3f5c2b">currentHand</link>&#32;=&#32;hand;
00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_input_module">InputModule</link>.<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_input_module_1a88f1603f8015d72a04672539920fbcbf">instance</link>.<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_input_module_1a516437e1ea7801b815b59a5bda77bd0e">HoverBegin</link>(&#32;gameObject&#32;);
00038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_controller_button_hints">ControllerButtonHints</link>.ShowButtonHint(&#32;hand,&#32;hand.<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_hand_1afbfd52faf00100f0e2d919c1aa70369f">uiInteractAction</link>);
00039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00040 
00041 
00042 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//-------------------------------------------------</emphasis>
<anchor xml:id="__u_i_element_8cs_source_1l00043"/><link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1abe630ac737c8f18be7710e4bd29b8269">00043</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1abe630ac737c8f18be7710e4bd29b8269">OnHandHoverEnd</link>(&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_hand">Hand</link>&#32;hand&#32;)
00044 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_input_module">InputModule</link>.<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_input_module_1a88f1603f8015d72a04672539920fbcbf">instance</link>.<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_input_module_1a0a8f8a7133b5e1d79fcd9687d48ce42d">HoverEnd</link>(&#32;gameObject&#32;);
00046 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_controller_button_hints">ControllerButtonHints</link>.HideButtonHint(&#32;hand,&#32;hand.<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_hand_1afbfd52faf00100f0e2d919c1aa70369f">uiInteractAction</link>);
00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1ae9b3f4e376147d62b135e0854f3f5c2b">currentHand</link>&#32;=&#32;<emphasis role="keyword">null</emphasis>;
00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00049 
00050 
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//-------------------------------------------------</emphasis>
<anchor xml:id="__u_i_element_8cs_source_1l00052"/><link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1a025a3608cf51eb78b4db7db6f81b7bab">00052</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1a025a3608cf51eb78b4db7db6f81b7bab">HandHoverUpdate</link>(&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_hand">Hand</link>&#32;hand&#32;)
00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00054 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(&#32;hand.<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_hand_1afbfd52faf00100f0e2d919c1aa70369f">uiInteractAction</link>&#32;!=&#32;<emphasis role="keyword">null</emphasis>&#32;&amp;&amp;&#32;hand.<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_hand_1afbfd52faf00100f0e2d919c1aa70369f">uiInteractAction</link>.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___action___boolean_1aa0a7eb5f7e02e35fd6922dd30b087f77">GetStateDown</link>(hand.<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_hand_1a05520135148fd74ca10b8549d5c7354d">handType</link>)&#32;)
00055 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00056 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_input_module">InputModule</link>.<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_input_module_1a88f1603f8015d72a04672539920fbcbf">instance</link>.<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_input_module_1a856a142789e32f5e1b88c2cbd11bf392">Submit</link>(&#32;gameObject&#32;);
00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_controller_button_hints">ControllerButtonHints</link>.HideButtonHint(&#32;hand,&#32;hand.<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_hand_1afbfd52faf00100f0e2d919c1aa70369f">uiInteractAction</link>);
00058 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00060 
00061 
00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//-------------------------------------------------</emphasis>
<anchor xml:id="__u_i_element_8cs_source_1l00063"/><link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1af4aa0f9d62309d5299ed208c524da1d1">00063</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1af4aa0f9d62309d5299ed208c524da1d1">OnButtonClick</link>()
00064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1a751b43bce40762d303a7c32da3f7e2a8">onHandClick</link>.Invoke(&#32;<link linkend="_class_valve_1_1_v_r_1_1_interaction_system_1_1_u_i_element_1ae9b3f4e376147d62b135e0854f3f5c2b">currentHand</link>&#32;);
00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00067 &#32;&#32;&#32;&#32;}
00068 
00069 <emphasis role="preprocessor">#if&#32;UNITY_EDITOR</emphasis>
00070 &#32;&#32;&#32;&#32;<emphasis role="comment">//-------------------------------------------------------------------------</emphasis>
00071 &#32;&#32;&#32;&#32;[<link linkend="_namespace_unity_editor">UnityEditor</link>.CustomEditor(&#32;typeof(&#32;UIElement&#32;)&#32;)]
00072 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis>UIElementEditor&#32;:&#32;<link linkend="_namespace_unity_editor">UnityEditor</link>.Editor
00073 &#32;&#32;&#32;&#32;{
00074 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//-------------------------------------------------</emphasis>
00075 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Custom&#32;Inspector&#32;GUI&#32;allows&#32;us&#32;to&#32;click&#32;from&#32;within&#32;the&#32;UI</emphasis>
00076 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//-------------------------------------------------</emphasis>
00077 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">override</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnInspectorGUI()
00078 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00079 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;DrawDefaultInspector();
00080 
00081 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;UIElement&#32;uiElement&#32;=&#32;(UIElement)target;
00082 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(&#32;GUILayout.Button(&#32;<emphasis role="stringliteral">&quot;Click&quot;</emphasis>&#32;)&#32;)
00083 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00084 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;InputModule.instance.Submit(&#32;uiElement.gameObject&#32;);
00085 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00086 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00087 &#32;&#32;&#32;&#32;}
00088 <emphasis role="preprocessor">#endif</emphasis>
00089 }
</programlisting></section>
