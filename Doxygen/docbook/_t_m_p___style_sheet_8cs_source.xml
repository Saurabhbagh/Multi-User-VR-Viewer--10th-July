<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__t_m_p___style_sheet_8cs_source">
<title>TMP_StyleSheet.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Library/PackageCache/com.unity.textmeshpro@1.3.0/Scripts/Runtime/TMP_StyleSheet.cs</primary></indexterm>
<programlisting>00001 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00002 <emphasis role="keyword">using</emphasis>&#32;System;
00003 <emphasis role="keyword">using</emphasis>&#32;System.Collections.Generic;
00004 
00005 
00006 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_t_m_pro">TMPro</link>
00007 {
00008 
00009 &#32;&#32;&#32;&#32;[Serializable]
<anchor xml:id="__t_m_p___style_sheet_8cs_source_1l00010"/><link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet">00010</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet">TMP_StyleSheet</link>&#32;:&#32;ScriptableObject
00011 &#32;&#32;&#32;&#32;{
00012 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet">TMP_StyleSheet</link>&#32;s_Instance;
00013 
00014 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[SerializeField]
00015 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;List&lt;TMP_Style&gt;&#32;m_StyleList&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;List&lt;TMP_Style&gt;(1);
00016 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Dictionary&lt;int,&#32;TMP_Style&gt;&#32;m_StyleDictionary&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Dictionary&lt;int,&#32;TMP_Style&gt;();
00017 
00018 
00022 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet">TMP_StyleSheet</link>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1aa857b610ca839ac49f96ac6bc66ac201">instance</link>
<anchor xml:id="__t_m_p___style_sheet_8cs_source_1l00023"/><link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1aa857b610ca839ac49f96ac6bc66ac201">00023</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">get</emphasis>
00025 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00026 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(s_Instance&#32;==&#32;<emphasis role="keyword">null</emphasis>)
00027 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00028 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;s_Instance&#32;=&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___settings">TMP_Settings</link>.<link linkend="_class_t_m_pro_1_1_t_m_p___settings_1aff54ac35a33c557259a6327c960b12b6">defaultStyleSheet</link>;
00029 
00030 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(s_Instance&#32;==&#32;<emphasis role="keyword">null</emphasis>)
00031 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;s_Instance&#32;=&#32;Resources.Load&lt;<link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet">TMP_StyleSheet</link>&gt;(<emphasis role="stringliteral">&quot;Style&#32;Sheets/TMP&#32;Default&#32;Style&#32;Sheet&quot;</emphasis>);
00032 
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(s_Instance&#32;==&#32;<emphasis role="keyword">null</emphasis>)&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">null</emphasis>;
00034 
00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Load&#32;the&#32;style&#32;dictionary.</emphasis>
00036 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;s_Instance.LoadStyleDictionaryInternal();
00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00038 
00039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;s_Instance;
00040 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00041 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00042 
00043 
<anchor xml:id="__t_m_p___style_sheet_8cs_source_1l00048"/><link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1a653c12d4d1759a054f7f37a2d0b33924">00048</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet">TMP_StyleSheet</link>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1a653c12d4d1759a054f7f37a2d0b33924">LoadDefaultStyleSheet</link>()
00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1aa857b610ca839ac49f96ac6bc66ac201">instance</link>;
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00052 
00053 
<anchor xml:id="__t_m_p___style_sheet_8cs_source_1l00059"/><link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1a238d4f39d98e02352e4a9633ba08d126">00059</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style">TMP_Style</link>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1a238d4f39d98e02352e4a9633ba08d126">GetStyle</link>(<emphasis role="keywordtype">int</emphasis>&#32;hashCode)
00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1aa857b610ca839ac49f96ac6bc66ac201">instance</link>.GetStyleInternal(hashCode);
00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00063 
00064 
00070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style">TMP_Style</link>&#32;GetStyleInternal(<emphasis role="keywordtype">int</emphasis>&#32;hashCode)
00071 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style">TMP_Style</link>&#32;style;
00073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_StyleDictionary.TryGetValue(hashCode,&#32;out&#32;style))
00074 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00075 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;style;
00076 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00077 
00078 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">null</emphasis>;
00079 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00080 
00081 
<anchor xml:id="__t_m_p___style_sheet_8cs_source_1l00082"/><link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1af80d7de5e502d36e00ccfe5f281ed3cb">00082</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1af80d7de5e502d36e00ccfe5f281ed3cb">UpdateStyleDictionaryKey</link>(<emphasis role="keywordtype">int</emphasis>&#32;old_key,&#32;<emphasis role="keywordtype">int</emphasis>&#32;new_key)
00083 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00084 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(m_StyleDictionary.ContainsKey(old_key))
00085 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00086 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style">TMP_Style</link>&#32;style&#32;=&#32;m_StyleDictionary[old_key];
00087 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_StyleDictionary.Add(new_key,&#32;style);
00088 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_StyleDictionary.Remove(old_key);
00089 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00090 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00091 
00092 
<anchor xml:id="__t_m_p___style_sheet_8cs_source_1l00096"/><link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1a4bab3ca47934d537b41ae066eabac404">00096</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1a4bab3ca47934d537b41ae066eabac404">UpdateStyleSheet</link>()
00097 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00098 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Reset&#32;instance</emphasis>
00099 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;s_Instance&#32;=&#32;<emphasis role="keyword">null</emphasis>;
00100 
00101 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1aa7ee1ff983631f35b479fbda8df90829">RefreshStyles</link>();
00102 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00103 
00104 
<anchor xml:id="__t_m_p___style_sheet_8cs_source_1l00108"/><link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1aa7ee1ff983631f35b479fbda8df90829">00108</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1aa7ee1ff983631f35b479fbda8df90829">RefreshStyles</link>()
00109 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00110 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_t_m_pro_1_1_t_m_p___style_sheet_1aa857b610ca839ac49f96ac6bc66ac201">instance</link>.LoadStyleDictionaryInternal();
00111 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00112 
00113 
00117 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;LoadStyleDictionaryInternal()
00118 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00119 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_StyleDictionary.Clear();
00120 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
00121 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Read&#32;Styles&#32;from&#32;style&#32;list&#32;and&#32;store&#32;them&#32;into&#32;dictionary&#32;for&#32;faster&#32;access.</emphasis>
00122 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;m_StyleList.Count;&#32;i++)
00123 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00124 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_StyleList[i].RefreshStyle();
00125 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
00126 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!m_StyleDictionary.ContainsKey(m_StyleList[i].hashCode))
00127 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;m_StyleDictionary.Add(m_StyleList[i].hashCode,&#32;m_StyleList[i]);
00128 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00129 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00130 &#32;&#32;&#32;&#32;}
00131 
00132 }
</programlisting></section>
