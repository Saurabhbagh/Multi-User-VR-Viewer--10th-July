<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__json_serialization_8cs_source">
<title>JsonSerialization.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Library/PackageCache/com.unity.analytics@3.2.2/Tests/Runtime/DataPrivacy/JsonSerialization.cs</primary></indexterm>
<programlisting>00001 <emphasis role="keyword">using</emphasis>&#32;System;
00002 <emphasis role="keyword">using</emphasis>&#32;NUnit.Framework;
00003 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00004 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_engine">UnityEngine</link>.<link linkend="_namespace_unity_engine_1_1_analytics">Analytics</link>;
00005 
<anchor xml:id="__json_serialization_8cs_source_1l00006"/><link linkend="_class_json_serialization">00006</link> <emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_json_serialization">JsonSerialization</link>
00007 {
00008 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;This&#32;test&#32;was&#32;create&#32;to&#32;verifiy&#32;JsonUtility&#32;could&#32;properly&#32;deserialize&#32;the&#32;nested</emphasis>
00009 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;structs&#32;used&#32;for&#32;opt-out&#32;status.&#32;That&#32;process&#32;is&#32;now&#32;handled&#32;with&#32;remote&#32;config&#32;so</emphasis>
00010 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;now&#32;we&#32;just&#32;verify&#32;that&#32;the&#32;expected&#32;response&#32;from&#32;the&#32;token&#32;API&#32;can&#32;be&#32;deserialized.</emphasis>
00011 
00012 &#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">string</emphasis>&#32;kTokenJson&#32;=&#32;<emphasis role="stringliteral">&quot;{&quot;</emphasis>&#32;+
00013 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;\&quot;url\&quot;:&#32;\&quot;https://analytics.cloud.unity3d.com/optout?token=24a96770b5c4420a4f930dbb4b72fbb83erfg3edf3ert4r1/\&quot;,&quot;</emphasis>&#32;+
00014 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;\&quot;token\&quot;:&#32;\&quot;24a96770b5c4420a4f930dbb4b72fbb83erfg3edf3ert4r1\&quot;&quot;</emphasis>&#32;+
00015 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;}&quot;</emphasis>;
00016 
00017 &#32;&#32;&#32;&#32;[Test]
<anchor xml:id="__json_serialization_8cs_source_1l00018"/><link linkend="_class_json_serialization_1a5c58b694b1e0bb959f34a152d52239a3">00018</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_json_serialization_1a5c58b694b1e0bb959f34a152d52239a3">TestTokenStruct_JsonUtility</link>()
00019 &#32;&#32;&#32;&#32;{
00020 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;tokenData&#32;=&#32;JsonUtility.FromJson&lt;DataPrivacy.TokenData&gt;(kTokenJson);
00021 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Assert.AreEqual(<emphasis role="stringliteral">&quot;https://analytics.cloud.unity3d.com/optout?token=24a96770b5c4420a4f930dbb4b72fbb83erfg3edf3ert4r1/&quot;</emphasis>,&#32;tokenData.url);
00022 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Assert.AreEqual(<emphasis role="stringliteral">&quot;24a96770b5c4420a4f930dbb4b72fbb83erfg3edf3ert4r1&quot;</emphasis>,&#32;tokenData.token);
00023 &#32;&#32;&#32;&#32;}
00024 }
</programlisting></section>
