<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__anchor_score_test_8cs_source">
<title>AnchorScoreTest.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Assets/LeapMotion/Modules/InteractionEngine/Scripts/UI/Anchors/Tests/AnchorScoreTest.cs</primary></indexterm>
<programlisting>00001 <emphasis role="comment">/******************************************************************************</emphasis>
00002 <emphasis role="comment">&#32;*&#32;Copyright&#32;(C)&#32;Leap&#32;Motion,&#32;Inc.&#32;2011-2018.&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*</emphasis>
00003 <emphasis role="comment">&#32;*&#32;Leap&#32;Motion&#32;proprietary&#32;and&#32;confidential.&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*</emphasis>
00004 <emphasis role="comment">&#32;*&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*</emphasis>
00005 <emphasis role="comment">&#32;*&#32;Use&#32;subject&#32;to&#32;the&#32;terms&#32;of&#32;the&#32;Leap&#32;Motion&#32;SDK&#32;Agreement&#32;available&#32;at&#32;&#32;&#32;&#32;&#32;*</emphasis>
00006 <emphasis role="comment">&#32;*&#32;https://developer.leapmotion.com/sdk_agreement,&#32;or&#32;another&#32;agreement&#32;&#32;&#32;&#32;&#32;&#32;&#32;*</emphasis>
00007 <emphasis role="comment">&#32;*&#32;between&#32;Leap&#32;Motion&#32;and&#32;you,&#32;your&#32;company&#32;or&#32;other&#32;organization.&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*</emphasis>
00008 <emphasis role="comment">&#32;******************************************************************************/</emphasis>
00009 
00010 <emphasis role="keyword">using</emphasis>&#32;System.Collections;
00011 <emphasis role="keyword">using</emphasis>&#32;System.Collections.Generic;
00012 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00013 
00014 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_leap_1_1_unity_1_1_interaction">Leap.Unity.Interaction</link>&#32;{
00015 
<anchor xml:id="__anchor_score_test_8cs_source_1l00016"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test">00016</link> &#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test">AnchorScoreTest</link>&#32;:&#32;MonoBehaviour&#32;{
00017 
<anchor xml:id="__anchor_score_test_8cs_source_1l00018"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a0b653386407883193c56f11c169303c0">00018</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Transform&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a0b653386407883193c56f11c169303c0">centerPositionOneSecondLater</link>;
00019 
<anchor xml:id="__anchor_score_test_8cs_source_1l00020"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a5051bbea91c4f0e14597c2c10c0c9d48">00020</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Material&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a5051bbea91c4f0e14597c2c10c0c9d48">testMaterialXY</link>;
<anchor xml:id="__anchor_score_test_8cs_source_1l00021"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a906581781ede69149154a43b66230798">00021</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Material&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a906581781ede69149154a43b66230798">testMaterialXZ</link>;
<anchor xml:id="__anchor_score_test_8cs_source_1l00022"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1af7d30cdce1e83f66f1711784fc63e7f4">00022</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Material&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1af7d30cdce1e83f66f1711784fc63e7f4">testMaterialYZ</link>;
00023 
00024 &#32;&#32;&#32;&#32;[Range(0.10F,&#32;0.70F)]
<anchor xml:id="__anchor_score_test_8cs_source_1l00025"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a8126c9551302e6230814ef4158521806">00025</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a8126c9551302e6230814ef4158521806">maxRange</link>&#32;=&#32;0.30F;
00026 
00027 &#32;&#32;&#32;&#32;[Range(5F,&#32;90F)]
<anchor xml:id="__anchor_score_test_8cs_source_1l00028"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a705981e80b0118ff7c79d5c7638306f1">00028</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a705981e80b0118ff7c79d5c7638306f1">maxAngle</link>&#32;=&#32;60F;
00029 
00030 &#32;&#32;&#32;&#32;[Range(0f,&#32;1f)]
<anchor xml:id="__anchor_score_test_8cs_source_1l00031"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a6c720ce627151abd39ffed9b38a65216">00031</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a6c720ce627151abd39ffed9b38a65216">alwaysAttachDistance</link>&#32;=&#32;0f;
00032 
00033 &#32;&#32;&#32;&#32;[Header(<emphasis role="stringliteral">&quot;Generated&quot;</emphasis>)]
<anchor xml:id="__anchor_score_test_8cs_source_1l00034"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1af606e486a3342efdb4c31f41777e3ba5">00034</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Texture2D&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1af606e486a3342efdb4c31f41777e3ba5">textureXY</link>;
<anchor xml:id="__anchor_score_test_8cs_source_1l00035"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a9b9fcebd530451bf519f1f793ef9e165">00035</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Texture2D&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a9b9fcebd530451bf519f1f793ef9e165">textureXZ</link>;
<anchor xml:id="__anchor_score_test_8cs_source_1l00036"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1acbb2721c96d37d8a95559ef9feb7111d">00036</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Texture2D&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1acbb2721c96d37d8a95559ef9feb7111d">textureYZ</link>;
00037 
<anchor xml:id="__anchor_score_test_8cs_source_1l00038"/><link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a3442a284019dc4cce6865e30272220ed">00038</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a3442a284019dc4cce6865e30272220ed">WIDTH</link>&#32;=&#32;64;
00039 
00040 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;Awake()&#32;{
00041 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1af606e486a3342efdb4c31f41777e3ba5">textureXY</link>&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Texture2D(<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a3442a284019dc4cce6865e30272220ed">WIDTH</link>,&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a3442a284019dc4cce6865e30272220ed">WIDTH</link>);
00042 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a9b9fcebd530451bf519f1f793ef9e165">textureXZ</link>&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Texture2D(<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a3442a284019dc4cce6865e30272220ed">WIDTH</link>,&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a3442a284019dc4cce6865e30272220ed">WIDTH</link>);
00043 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1acbb2721c96d37d8a95559ef9feb7111d">textureYZ</link>&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Texture2D(<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a3442a284019dc4cce6865e30272220ed">WIDTH</link>,&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a3442a284019dc4cce6865e30272220ed">WIDTH</link>);
00044 
00045 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a5051bbea91c4f0e14597c2c10c0c9d48">testMaterialXY</link>.mainTexture&#32;=&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1af606e486a3342efdb4c31f41777e3ba5">textureXY</link>;
00046 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a906581781ede69149154a43b66230798">testMaterialXZ</link>.mainTexture&#32;=&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a9b9fcebd530451bf519f1f793ef9e165">textureXZ</link>;
00047 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1af7d30cdce1e83f66f1711784fc63e7f4">testMaterialYZ</link>.mainTexture&#32;=&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1acbb2721c96d37d8a95559ef9feb7111d">textureYZ</link>;
00048 &#32;&#32;&#32;&#32;}
00049 
00050 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;Update()&#32;{
00051 &#32;&#32;&#32;&#32;&#32;&#32;this.transform.position&#32;=&#32;Vector3.zero;
00052 
00053 &#32;&#32;&#32;&#32;&#32;&#32;setPixels(<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1af606e486a3342efdb4c31f41777e3ba5">textureXY</link>,&#32;Vector3.right,&#32;Vector3.up);
00054 &#32;&#32;&#32;&#32;&#32;&#32;setPixels(<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a9b9fcebd530451bf519f1f793ef9e165">textureXZ</link>,&#32;Vector3.right,&#32;Vector3.forward);
00055 &#32;&#32;&#32;&#32;&#32;&#32;setPixels(<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1acbb2721c96d37d8a95559ef9feb7111d">textureYZ</link>,&#32;Vector3.up,&#32;&#32;&#32;-Vector3.forward);
00056 &#32;&#32;&#32;&#32;}
00057 
00058 &#32;&#32;&#32;&#32;Color[]&#32;_pixels&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Color[<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a3442a284019dc4cce6865e30272220ed">WIDTH</link>&#32;*&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a3442a284019dc4cce6865e30272220ed">WIDTH</link>];
00059 
00060 &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;setPixels(Texture2D&#32;tex,&#32;Vector3&#32;dir1,&#32;Vector3&#32;dir2)&#32;{
00061 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;widthPerPixel&#32;=&#32;0.5F&#32;/&#32;tex.width;
00062 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;center&#32;=&#32;widthPerPixel&#32;*&#32;(tex.width&#32;/&#32;2F);
00063 
00064 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;k&#32;=&#32;0;&#32;k&#32;&lt;&#32;tex.width&#32;*&#32;tex.width;&#32;k++)&#32;{
00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;k&#32;/&#32;tex.width;
00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;j&#32;=&#32;k&#32;%&#32;tex.width;
00067 
00068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Vector3&#32;anchObjPos&#32;=&#32;this.transform.position;
00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Vector3&#32;anchObjVel&#32;=&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a0b653386407883193c56f11c169303c0">centerPositionOneSecondLater</link>.position&#32;-&#32;this.transform.position;
00070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Vector3&#32;anchorPos&#32;&#32;=&#32;this.transform.position
00071 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;+&#32;(dir1&#32;*&#32;i&#32;*&#32;widthPerPixel&#32;-&#32;(dir1&#32;*&#32;center))
00072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;+&#32;(dir2&#32;*&#32;j&#32;*&#32;widthPerPixel&#32;-&#32;(dir2&#32;*&#32;center));
00073 
00074 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;score&#32;=&#32;AnchorableBehaviour.GetAnchorScore(anchObjPos,&#32;anchObjVel,&#32;anchorPos,&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a8126c9551302e6230814ef4158521806">maxRange</link>,&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a8126c9551302e6230814ef4158521806">maxRange</link>&#32;*&#32;0.40F,&#32;Mathf.Cos(<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a705981e80b0118ff7c79d5c7638306f1">maxAngle</link>&#32;*&#32;Mathf.Deg2Rad),&#32;<link linkend="_class_leap_1_1_unity_1_1_interaction_1_1_anchor_score_test_1a6c720ce627151abd39ffed9b38a65216">alwaysAttachDistance</link>);
00075 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Color&#32;pixel&#32;=&#32;Color.HSVToRGB(Mathf.Lerp(1F,&#32;0F,&#32;score),&#32;Mathf.Lerp(0F,&#32;1F,&#32;score),&#32;Mathf.Lerp(0F,&#32;1F,&#32;score));
00076 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_pixels[i&#32;+&#32;j&#32;*&#32;tex.width]&#32;=&#32;pixel;
00077 &#32;&#32;&#32;&#32;&#32;&#32;}
00078 
00079 &#32;&#32;&#32;&#32;&#32;&#32;tex.SetPixels(_pixels);
00080 &#32;&#32;&#32;&#32;&#32;&#32;tex.Apply();
00081 &#32;&#32;&#32;&#32;}
00082 
00083 &#32;&#32;}
00084 
00085 }
</programlisting></section>
