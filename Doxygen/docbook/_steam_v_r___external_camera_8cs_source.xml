<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__steam_v_r___external_camera_8cs_source">
<title>SteamVR_ExternalCamera.cs</title>
<indexterm><primary>O:/GitHUBMINIPRoject/Assets/SteamVR/Scripts/SteamVR_ExternalCamera.cs</primary></indexterm>
<programlisting>00001 <emphasis role="comment">//=======&#32;Copyright&#32;(c)&#32;Valve&#32;Corporation,&#32;All&#32;rights&#32;reserved.&#32;===============</emphasis>
00002 <emphasis role="comment">//</emphasis>
00003 <emphasis role="comment">//&#32;Purpose:&#32;Used&#32;to&#32;render&#32;an&#32;external&#32;camera&#32;of&#32;vr&#32;player&#32;(split&#32;front/back).</emphasis>
00004 <emphasis role="comment">//</emphasis>
00005 <emphasis role="comment">//=============================================================================</emphasis>
00006 
00007 <emphasis role="keyword">using</emphasis>&#32;<link linkend="__balloon_8cs_1a7d67e097df9376eb709b6a23aa3c7d23">UnityEngine</link>;
00008 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_unity_engine">UnityEngine</link>.Rendering;
00009 <emphasis role="keyword">using</emphasis>&#32;<link linkend="_namespace_valve">Valve</link>.<link linkend="_namespace_valve_1_1_v_r">VR</link>;
00010 
00011 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_valve_1_1_v_r">Valve.VR</link>
00012 {
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00013"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera">00013</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera">SteamVR_ExternalCamera</link>&#32;:&#32;MonoBehaviour
00014 &#32;&#32;&#32;&#32;{
00015 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[System.Serializable]
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00016"/><link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config">00016</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config">Config</link>
00017 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00018"/><link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1af38470d47453046c727eba474ad594ea">00018</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a6259b88cd56a3e47f6167f0980314959">x</link>,&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a63e4f35905e824136faf2a28c83723bb">y</link>,&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1af38470d47453046c727eba474ad594ea">z</link>;
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00019"/><link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a07e70bc7d9c63124229d81427bcb2ca0">00019</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a04be9c5ca9f3e0d9fc67bc4c5dd9600c">rx</link>,&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a9b3dbe0ad452411082af7c1f684bf1fa">ry</link>,&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a07e70bc7d9c63124229d81427bcb2ca0">rz</link>;
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00020"/><link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a080da4535ee5ec8ddf0548d22923e64e">00020</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a080da4535ee5ec8ddf0548d22923e64e">fov</link>;
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00021"/><link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1aee32c38c5425e621f95a3d81fa3ecbef">00021</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1aee32c38c5425e621f95a3d81fa3ecbef">near</link>,&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a330734ac7b0317a49efe950a8fe138f1">far</link>;
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00022"/><link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1adb76fad65392048d06c24cad3082dd09">00022</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1adb76fad65392048d06c24cad3082dd09">sceneResolutionScale</link>;
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00023"/><link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a8bd467f8847a89ca6e863792d7d88b45">00023</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a8bd467f8847a89ca6e863792d7d88b45">frameSkip</link>;
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00024"/><link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a66d86e0e0d558d706e4481737ede2ff5">00024</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a66d86e0e0d558d706e4481737ede2ff5">nearOffset</link>,&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a777818ee013b99ff19d66b88fffc9dea">farOffset</link>;
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00025"/><link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a6475934035c4e9bf74330afe073bd1dc">00025</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a6475934035c4e9bf74330afe073bd1dc">hmdOffset</link>;
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00026"/><link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1af2e8cef23f1b288a006f2551aa8b76d0">00026</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1af2e8cef23f1b288a006f2551aa8b76d0">r</link>,&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1ac33745ba2195152a1fb45114b8166a2c">g</link>,&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a61fefd6bd3ec6534de9ec4700e1d459e">b</link>,&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a950cc225ae05b061f77d070ef10dd620">a</link>;&#32;<emphasis role="comment">//&#32;chroma&#32;key&#32;override</emphasis>
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00027"/><link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a545c6082b0d973c978acca315a2bfd0f">00027</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a545c6082b0d973c978acca315a2bfd0f">disableStandardAssets</link>;
00028 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00029 
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00030"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a62a9d8567c47f62e620191b404abc47f">00030</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config">Config</link>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a62a9d8567c47f62e620191b404abc47f">config</link>;
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00031"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a9d7064ad5953dceb33901e1e03140b2a">00031</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">string</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a9d7064ad5953dceb33901e1e03140b2a">configPath</link>;
00032 
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[Tooltip(<emphasis role="stringliteral">&quot;This&#32;will&#32;automatically&#32;activate&#32;the&#32;action&#32;set&#32;the&#32;specified&#32;pose&#32;belongs&#32;to.&#32;And&#32;deactivate&#32;it&#32;when&#32;this&#32;component&#32;is&#32;disabled.&quot;</emphasis>)]
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00034"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a9972bde4351b9d77cc1123a2fa1edc83">00034</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a9972bde4351b9d77cc1123a2fa1edc83">autoEnableDisableActionSet</link>&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00035 
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00036"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1ad7cf6593d79e674294e5a8c47a7589e5">00036</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1ad7cf6593d79e674294e5a8c47a7589e5">ReadConfig</link>()
00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">try</emphasis>
00039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00040 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;mCam&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_struct_valve_1_1_v_r_1_1_hmd_matrix34__t">HmdMatrix34_t</link>();
00041 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;readCamMatrix&#32;=&#32;<emphasis role="keyword">false</emphasis>;
00042 
00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">object</emphasis>&#32;c&#32;=&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a62a9d8567c47f62e620191b404abc47f">config</link>;&#32;<emphasis role="comment">//&#32;box</emphasis>
00044 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;lines&#32;=&#32;System.IO.File.ReadAllLines(<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a9d7064ad5953dceb33901e1e03140b2a">configPath</link>);
00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">foreach</emphasis>&#32;(var&#32;line&#32;<emphasis role="keywordflow">in</emphasis>&#32;lines)
00046 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;split&#32;=&#32;line.Split(<emphasis role="charliteral">&apos;=&apos;</emphasis>);
00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(split.Length&#32;==&#32;2)
00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;key&#32;=&#32;split[0];
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(key&#32;==&#32;<emphasis role="stringliteral">&quot;m&quot;</emphasis>)
00052 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;values&#32;=&#32;split[1].Split(<emphasis role="charliteral">&apos;,&apos;</emphasis>);
00054 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(values.Length&#32;==&#32;12)
00055 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00056 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mCam.m0&#32;=&#32;<emphasis role="keywordtype">float</emphasis>.Parse(values[0]);
00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mCam.m1&#32;=&#32;<emphasis role="keywordtype">float</emphasis>.Parse(values[1]);
00058 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mCam.m2&#32;=&#32;<emphasis role="keywordtype">float</emphasis>.Parse(values[2]);
00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mCam.m3&#32;=&#32;<emphasis role="keywordtype">float</emphasis>.Parse(values[3]);
00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mCam.m4&#32;=&#32;<emphasis role="keywordtype">float</emphasis>.Parse(values[4]);
00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mCam.m5&#32;=&#32;<emphasis role="keywordtype">float</emphasis>.Parse(values[5]);
00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mCam.m6&#32;=&#32;<emphasis role="keywordtype">float</emphasis>.Parse(values[6]);
00063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mCam.m7&#32;=&#32;<emphasis role="keywordtype">float</emphasis>.Parse(values[7]);
00064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mCam.m8&#32;=&#32;<emphasis role="keywordtype">float</emphasis>.Parse(values[8]);
00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mCam.m9&#32;=&#32;<emphasis role="keywordtype">float</emphasis>.Parse(values[9]);
00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mCam.m10&#32;=&#32;<emphasis role="keywordtype">float</emphasis>.Parse(values[10]);
00067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mCam.m11&#32;=&#32;<emphasis role="keywordtype">float</emphasis>.Parse(values[11]);
00068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;readCamMatrix&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00071 <emphasis role="preprocessor">#if&#32;!UNITY_METRO</emphasis>
00072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;<emphasis role="keywordflow">if</emphasis>&#32;(key&#32;==&#32;<emphasis role="stringliteral">&quot;disableStandardAssets&quot;</emphasis>)
00073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00074 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;field&#32;=&#32;c.GetType().GetField(key);
00075 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(field&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00076 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;field.SetValue(c,&#32;<emphasis role="keywordtype">bool</emphasis>.Parse(split[1]));
00077 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00078 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
00079 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00080 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;field&#32;=&#32;c.GetType().GetField(key);
00081 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(field&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00082 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;field.SetValue(c,&#32;<emphasis role="keywordtype">float</emphasis>.Parse(split[1]));
00083 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00084 <emphasis role="preprocessor">#endif</emphasis>
00085 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00086 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00087 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a62a9d8567c47f62e620191b404abc47f">config</link>&#32;=&#32;(<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config">Config</link>)c;&#32;<emphasis role="comment">//unbox</emphasis>
00088 
00089 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Convert&#32;calibrated&#32;camera&#32;matrix&#32;settings.</emphasis>
00090 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(readCamMatrix)
00091 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00092 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;t&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;SteamVR_Utils.RigidTransform(mCam);
00093 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a62a9d8567c47f62e620191b404abc47f">config</link>.<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a6259b88cd56a3e47f6167f0980314959">x</link>&#32;=&#32;t.pos.x;
00094 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a62a9d8567c47f62e620191b404abc47f">config</link>.<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a63e4f35905e824136faf2a28c83723bb">y</link>&#32;=&#32;t.pos.y;
00095 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a62a9d8567c47f62e620191b404abc47f">config</link>.<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1af38470d47453046c727eba474ad594ea">z</link>&#32;=&#32;t.pos.z;
00096 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;angles&#32;=&#32;t.rot.eulerAngles;
00097 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a62a9d8567c47f62e620191b404abc47f">config</link>.<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a04be9c5ca9f3e0d9fc67bc4c5dd9600c">rx</link>&#32;=&#32;angles.x;
00098 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a62a9d8567c47f62e620191b404abc47f">config</link>.<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a9b3dbe0ad452411082af7c1f684bf1fa">ry</link>&#32;=&#32;angles.y;
00099 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a62a9d8567c47f62e620191b404abc47f">config</link>.<link linkend="_struct_valve_1_1_v_r_1_1_steam_v_r___external_camera_1_1_config_1a07e70bc7d9c63124229d81427bcb2ca0">rz</link>&#32;=&#32;angles.z;
00100 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00101 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00102 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">catch</emphasis>&#32;{&#32;}
00103 
00104 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Clear&#32;target&#32;so&#32;AttachToCamera&#32;gets&#32;called&#32;to&#32;pick&#32;up&#32;any&#32;changes.</emphasis>
00105 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;target&#32;=&#32;<emphasis role="keyword">null</emphasis>;
00106 <emphasis role="preprocessor">#if&#32;!UNITY_METRO</emphasis>
00107 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Listen&#32;for&#32;changes.</emphasis>
00108 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(watcher&#32;==&#32;<emphasis role="keyword">null</emphasis>)
00109 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00110 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;fi&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;System.IO.FileInfo(<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a9d7064ad5953dceb33901e1e03140b2a">configPath</link>);
00111 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;watcher&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;System.IO.FileSystemWatcher(fi.DirectoryName,&#32;fi.Name);
00112 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;watcher.NotifyFilter&#32;=&#32;System.IO.NotifyFilters.LastWrite;
00113 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;watcher.Changed&#32;+=&#32;<emphasis role="keyword">new</emphasis>&#32;System.IO.FileSystemEventHandler(OnChanged);
00114 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;watcher.EnableRaisingEvents&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00115 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00116 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00117 
00118 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnChanged(<emphasis role="keywordtype">object</emphasis>&#32;source,&#32;System.IO.FileSystemEventArgs&#32;e)
00119 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00120 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1ad7cf6593d79e674294e5a8c47a7589e5">ReadConfig</link>();
00121 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00122 
00123 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;System.IO.FileSystemWatcher&#32;watcher;
00124 <emphasis role="preprocessor">#else</emphasis>
00125 &#32;&#32;&#32;&#32;}
00126 <emphasis role="preprocessor">#endif</emphasis>
00127 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespace_valve_1_1_v_r_1a82e5bf501cc3aa155444ee3f0662853fa967d35e40f3f95b1f538bd248640bf3b">Camera</link>&#32;cam;
00128 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Transform&#32;target;
00129 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;GameObject&#32;clipQuad;
00130 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Material&#32;clipMaterial;
00131 
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00132"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a15be0393750d7f8ebfef931f360d1acc">00132</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___action_set">SteamVR_ActionSet</link>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a15be0393750d7f8ebfef931f360d1acc">activatedActionSet</link>;
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00133"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a18ba0e86cb9d7d8ab754f7360dcbac5a">00133</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<link linkend="_namespace_valve_1_1_v_r_1a82e5bf501cc3aa155444ee3f0662853f">SteamVR_Input_Sources</link>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a18ba0e86cb9d7d8ab754f7360dcbac5a">activatedInputSource</link>;
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00134"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a9543c9deb4f7e3ac929dc2e5fa4064c6">00134</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a9543c9deb4f7e3ac929dc2e5fa4064c6">AttachToCamera</link>(<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___camera">SteamVR_Camera</link>&#32;steamVR_Camera)
00135 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00136 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespace_valve_1_1_v_r_1a82e5bf501cc3aa155444ee3f0662853fa967d35e40f3f95b1f538bd248640bf3b">Camera</link>&#32;vrcam;
00137 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(steamVR_Camera&#32;==&#32;<emphasis role="keyword">null</emphasis>)
00138 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00139 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;vrcam&#32;=&#32;<link linkend="_namespace_valve_1_1_v_r_1a82e5bf501cc3aa155444ee3f0662853fa967d35e40f3f95b1f538bd248640bf3b">Camera</link>.main;
00140 
00141 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(target&#32;==&#32;vrcam.transform)
00142 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
00143 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;target&#32;=&#32;vrcam.transform;
00144 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00145 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
00146 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00147 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;vrcam&#32;=&#32;steamVR_Camera.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___camera_1ae118c58f9341a3cf4e24472a19131318">camera</link>;
00148 
00149 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(target&#32;==&#32;steamVR_Camera.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___camera_1a29bcd51ea929477bfbca732afe76f4db">head</link>)
00150 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
00151 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;target&#32;=&#32;steamVR_Camera.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___camera_1a29bcd51ea929477bfbca732afe76f4db">head</link>;
00152 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00153 
00154 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
00155 
00156 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;<link linkend="_namespace_valve_1_1_v_r_1a99f7cc968994699a7485078bafddac17a63a9f0ea7bb98050796b649e85481845">root</link>&#32;=&#32;transform.parent;
00157 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;origin&#32;=&#32;target.parent;
00158 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespace_valve_1_1_v_r_1a99f7cc968994699a7485078bafddac17a63a9f0ea7bb98050796b649e85481845">root</link>.parent&#32;=&#32;origin;
00159 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespace_valve_1_1_v_r_1a99f7cc968994699a7485078bafddac17a63a9f0ea7bb98050796b649e85481845">root</link>.localPosition&#32;=&#32;Vector3.zero;
00160 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespace_valve_1_1_v_r_1a99f7cc968994699a7485078bafddac17a63a9f0ea7bb98050796b649e85481845">root</link>.localRotation&#32;=&#32;Quaternion.identity;
00161 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespace_valve_1_1_v_r_1a99f7cc968994699a7485078bafddac17a63a9f0ea7bb98050796b649e85481845">root</link>.localScale&#32;=&#32;Vector3.one;
00162 
00163 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Make&#32;a&#32;copy&#32;of&#32;the&#32;eye&#32;camera&#32;to&#32;pick&#32;up&#32;any&#32;camera&#32;fx.</emphasis>
00164 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;vrcam.enabled&#32;=&#32;<emphasis role="keyword">false</emphasis>;
00165 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;go&#32;=&#32;Instantiate(vrcam.gameObject);
00166 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;vrcam.enabled&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00167 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;go.name&#32;=&#32;<emphasis role="stringliteral">&quot;camera&quot;</emphasis>;
00168 
00169 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;DestroyImmediate(go.GetComponent&lt;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___camera">SteamVR_Camera</link>&gt;());
00170 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;DestroyImmediate(go.GetComponent&lt;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___fade">SteamVR_Fade</link>&gt;());
00171 
00172 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam&#32;=&#32;go.GetComponent&lt;<link linkend="_namespace_valve_1_1_v_r_1a82e5bf501cc3aa155444ee3f0662853fa967d35e40f3f95b1f538bd248640bf3b">Camera</link>&gt;();
00173 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.stereoTargetEye&#32;=&#32;StereoTargetEyeMask.None;
00174 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.fieldOfView&#32;=&#32;config.fov;
00175 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.useOcclusionCulling&#32;=&#32;<emphasis role="keyword">false</emphasis>;
00176 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.enabled&#32;=&#32;<emphasis role="keyword">false</emphasis>;&#32;<emphasis role="comment">//&#32;manually&#32;rendered</emphasis>
00177 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.rect&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Rect(0,&#32;0,&#32;1,&#32;1);&#32;<emphasis role="comment">//fix&#32;order&#32;of&#32;operations&#32;issue</emphasis>
00178 
00179 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;colorMat&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Material(Shader.Find(<emphasis role="stringliteral">&quot;Custom/SteamVR_ColorOut&quot;</emphasis>));
00180 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;alphaMat&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Material(Shader.Find(<emphasis role="stringliteral">&quot;Custom/SteamVR_AlphaOut&quot;</emphasis>));
00181 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipMaterial&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Material(Shader.Find(<emphasis role="stringliteral">&quot;Custom/SteamVR_ClearAll&quot;</emphasis>));
00182 
00183 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;offset&#32;=&#32;go.transform;
00184 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;offset.parent&#32;=&#32;transform;
00185 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;offset.localPosition&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Vector3(config.x,&#32;config.y,&#32;config.z);
00186 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;offset.localRotation&#32;=&#32;Quaternion.Euler(config.rx,&#32;config.ry,&#32;config.rz);
00187 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;offset.localScale&#32;=&#32;Vector3.one;
00188 
00189 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Strip&#32;children&#32;of&#32;cloned&#32;object&#32;(AudioListener&#32;in&#32;particular).</emphasis>
00190 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">while</emphasis>&#32;(offset.childCount&#32;&gt;&#32;0)
00191 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;DestroyImmediate(offset.GetChild(0).gameObject);
00192 
00193 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Setup&#32;clipping&#32;quad&#32;(using&#32;camera&#32;clip&#32;causes&#32;problems&#32;with&#32;shadows).</emphasis>
00194 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipQuad&#32;=&#32;GameObject.CreatePrimitive(PrimitiveType.Quad);
00195 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipQuad.name&#32;=&#32;<emphasis role="stringliteral">&quot;ClipQuad&quot;</emphasis>;
00196 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;DestroyImmediate(clipQuad.GetComponent&lt;MeshCollider&gt;());
00197 
00198 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;clipRenderer&#32;=&#32;clipQuad.GetComponent&lt;MeshRenderer&gt;();
00199 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipRenderer.material&#32;=&#32;clipMaterial;
00200 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipRenderer.shadowCastingMode&#32;=&#32;ShadowCastingMode.Off;
00201 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipRenderer.receiveShadows&#32;=&#32;<emphasis role="keyword">false</emphasis>;
00202 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipRenderer.lightProbeUsage&#32;=&#32;LightProbeUsage.Off;
00203 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipRenderer.reflectionProbeUsage&#32;=&#32;ReflectionProbeUsage.Off;
00204 
00205 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;clipTransform&#32;=&#32;clipQuad.transform;
00206 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipTransform.parent&#32;=&#32;offset;
00207 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipTransform.localScale&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Vector3(1000.0f,&#32;1000.0f,&#32;1.0f);
00208 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipTransform.localRotation&#32;=&#32;Quaternion.identity;
00209 
00210 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipQuad.SetActive(<emphasis role="keyword">false</emphasis>);
00211 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00212 
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00213"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a46f18bd38fbfbed8ea67bfe706f5e82a">00213</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a46f18bd38fbfbed8ea67bfe706f5e82a">GetTargetDistance</link>()
00214 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00215 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(target&#32;==&#32;<emphasis role="keyword">null</emphasis>)
00216 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;config.near&#32;+&#32;0.01f;
00217 
00218 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;offset&#32;=&#32;cam.transform;
00219 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;forward&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Vector3(offset.forward.x,&#32;0.0f,&#32;offset.forward.z).normalized;
00220 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;targetPos&#32;=&#32;target.position&#32;+&#32;<emphasis role="keyword">new</emphasis>&#32;Vector3(target.forward.x,&#32;0.0f,&#32;target.forward.z).normalized&#32;*&#32;config.hmdOffset;
00221 
00222 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;distance&#32;=&#32;-(<emphasis role="keyword">new</emphasis>&#32;Plane(forward,&#32;targetPos)).GetDistanceToPoint(offset.position);
00223 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;Mathf.Clamp(distance,&#32;config.near&#32;+&#32;0.01f,&#32;config.far&#32;-&#32;0.01f);
00224 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00225 
00226 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Material&#32;colorMat,&#32;alphaMat;
00227 
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00228"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1acd7554ee85545ac5dd5fda38ecc653b6">00228</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1acd7554ee85545ac5dd5fda38ecc653b6">RenderNear</link>()
00229 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00230 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;w&#32;=&#32;Screen.width&#32;/&#32;2;
00231 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;h&#32;=&#32;Screen.height&#32;/&#32;2;
00232 
00233 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(cam.targetTexture&#32;==&#32;<emphasis role="keyword">null</emphasis>&#32;||&#32;cam.targetTexture.width&#32;!=&#32;w&#32;||&#32;cam.targetTexture.height&#32;!=&#32;h)
00234 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00235 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;tex&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;RenderTexture(w,&#32;h,&#32;24,&#32;RenderTextureFormat.ARGB32);
00236 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;tex.antiAliasing&#32;=&#32;QualitySettings.antiAliasing&#32;==&#32;0&#32;?&#32;1&#32;:&#32;QualitySettings.antiAliasing;
00237 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.targetTexture&#32;=&#32;tex;
00238 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00239 
00240 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.nearClipPlane&#32;=&#32;config.near;
00241 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.farClipPlane&#32;=&#32;config.far;
00242 
00243 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;clearFlags&#32;=&#32;cam.clearFlags;
00244 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;backgroundColor&#32;=&#32;cam.backgroundColor;
00245 
00246 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.clearFlags&#32;=&#32;CameraClearFlags.Color;
00247 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.backgroundColor&#32;=&#32;Color.clear;
00248 
00249 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipMaterial.color&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Color(config.r,&#32;config.g,&#32;config.b,&#32;config.a);
00250 
00251 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;dist&#32;=&#32;Mathf.Clamp(GetTargetDistance()&#32;+&#32;config.nearOffset,&#32;config.near,&#32;config.far);
00252 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;clipParent&#32;=&#32;clipQuad.transform.parent;
00253 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipQuad.transform.position&#32;=&#32;clipParent.position&#32;+&#32;clipParent.forward&#32;*&#32;dist;
00254 
00255 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;MonoBehaviour[]&#32;behaviours&#32;=&#32;<emphasis role="keyword">null</emphasis>;
00256 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>[]&#32;wasEnabled&#32;=&#32;<emphasis role="keyword">null</emphasis>;
00257 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(config.disableStandardAssets)
00258 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00259 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;behaviours&#32;=&#32;cam.gameObject.GetComponents&lt;MonoBehaviour&gt;();
00260 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;wasEnabled&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>[behaviours.Length];
00261 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;behaviours.Length;&#32;i++)
00262 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00263 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;behaviour&#32;=&#32;behaviours[i];
00264 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(behaviour.enabled&#32;&amp;&amp;&#32;behaviour.GetType().ToString().StartsWith(<emphasis role="stringliteral">&quot;UnityStandardAssets.&quot;</emphasis>))
00265 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00266 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;behaviour.enabled&#32;=&#32;<emphasis role="keyword">false</emphasis>;
00267 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;wasEnabled[i]&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00268 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00269 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00270 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00271 
00272 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipQuad.SetActive(<emphasis role="keyword">true</emphasis>);
00273 
00274 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.Render();
00275 
00276 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Graphics.DrawTexture(<emphasis role="keyword">new</emphasis>&#32;Rect(0,&#32;0,&#32;w,&#32;h),&#32;cam.targetTexture,&#32;colorMat);
00277 
00278 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Re-render&#32;scene&#32;with&#32;post-processing&#32;fx&#32;disabled&#32;(if&#32;necessary)&#32;since&#32;they&#32;override&#32;alpha.</emphasis>
00279 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;pp&#32;=&#32;cam.gameObject.GetComponent(<emphasis role="stringliteral">&quot;PostProcessingBehaviour&quot;</emphasis>)&#32;as&#32;MonoBehaviour;
00280 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;((pp&#32;!=&#32;<emphasis role="keyword">null</emphasis>)&#32;&amp;&amp;&#32;pp.enabled)
00281 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00282 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;pp.enabled&#32;=&#32;<emphasis role="keyword">false</emphasis>;
00283 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.Render();
00284 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;pp.enabled&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00285 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00286 
00287 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Graphics.DrawTexture(<emphasis role="keyword">new</emphasis>&#32;Rect(w,&#32;0,&#32;w,&#32;h),&#32;cam.targetTexture,&#32;alphaMat);
00288 
00289 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Restore&#32;settings.</emphasis>
00290 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clipQuad.SetActive(<emphasis role="keyword">false</emphasis>);
00291 
00292 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(behaviours&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00293 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00294 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;behaviours.Length;&#32;i++)
00295 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00296 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(wasEnabled[i])
00297 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00298 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;behaviours[i].enabled&#32;=&#32;<emphasis role="keyword">true</emphasis>;
00299 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00300 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00301 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00302 
00303 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.clearFlags&#32;=&#32;clearFlags;
00304 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.backgroundColor&#32;=&#32;backgroundColor;
00305 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00306 
<anchor xml:id="__steam_v_r___external_camera_8cs_source_1l00307"/><link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a18c262f33f101852d9d549894059b018">00307</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___external_camera_1a18c262f33f101852d9d549894059b018">RenderFar</link>()
00308 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00309 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.nearClipPlane&#32;=&#32;config.near;
00310 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.farClipPlane&#32;=&#32;config.far;
00311 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.Render();
00312 
00313 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;w&#32;=&#32;Screen.width&#32;/&#32;2;
00314 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;h&#32;=&#32;Screen.height&#32;/&#32;2;
00315 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Graphics.DrawTexture(<emphasis role="keyword">new</emphasis>&#32;Rect(0,&#32;h,&#32;w,&#32;h),&#32;cam.targetTexture,&#32;colorMat);
00316 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00317 
00318 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnGUI()
00319 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00320 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Necessary&#32;for&#32;Graphics.DrawTexture&#32;to&#32;work&#32;even&#32;though&#32;we&#32;don&apos;t&#32;do&#32;anything&#32;here.</emphasis>
00321 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00322 
00323 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespace_valve_1_1_v_r_1a82e5bf501cc3aa155444ee3f0662853fa967d35e40f3f95b1f538bd248640bf3b">Camera</link>[]&#32;cameras;
00324 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Rect[]&#32;cameraRects;
00325 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;sceneResolutionScale;
00326 
00327 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnEnable()
00328 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00329 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Move&#32;game&#32;view&#32;cameras&#32;to&#32;lower-right&#32;quadrant.</emphasis>
00330 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cameras&#32;=&#32;FindObjectsOfType&lt;Camera&gt;();
00331 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(cameras&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00332 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00333 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;numCameras&#32;=&#32;cameras.Length;
00334 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cameraRects&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Rect[numCameras];
00335 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;numCameras;&#32;i++)
00336 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00337 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;cam&#32;=&#32;cameras[i];
00338 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cameraRects[i]&#32;=&#32;cam.rect;
00339 
00340 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(cam&#32;==&#32;this.cam)
00341 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">continue</emphasis>;
00342 
00343 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(cam.targetTexture&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00344 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">continue</emphasis>;
00345 
00346 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(cam.GetComponent&lt;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___camera">SteamVR_Camera</link>&gt;()&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00347 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">continue</emphasis>;
00348 
00349 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.rect&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Rect(0.5f,&#32;0.0f,&#32;0.5f,&#32;0.5f);
00350 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00351 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00352 
00353 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(config.sceneResolutionScale&#32;&gt;&#32;0.0f)
00354 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00355 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sceneResolutionScale&#32;=&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___camera">SteamVR_Camera</link>.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___camera_1a15bffee48af1ca15135cf48e33622e56">sceneResolutionScale</link>;
00356 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___camera">SteamVR_Camera</link>.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___camera_1a15bffee48af1ca15135cf48e33622e56">sceneResolutionScale</link>&#32;=&#32;config.sceneResolutionScale;
00357 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00358 
00359 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(autoEnableDisableActionSet)
00360 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00361 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___behaviour___pose">SteamVR_Behaviour_Pose</link>&#32;pose&#32;=&#32;this.GetComponentInChildren&lt;SteamVR_Behaviour_Pose&gt;();
00362 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(pose&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00363 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00364 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(pose.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___behaviour___pose_1a7d8dfcf694264e0a7bc878bee6eaa30b">poseAction</link>.actionSet.IsActive(pose.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___behaviour___pose_1a95ff5e8947fe7780543e4c5679cfba52">inputSource</link>)&#32;==&#32;<emphasis role="keyword">false</emphasis>)
00365 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00366 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;activatedActionSet&#32;=&#32;pose.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___behaviour___pose_1a7d8dfcf694264e0a7bc878bee6eaa30b">poseAction</link>.actionSet;&#32;<emphasis role="comment">//automatically&#32;activate&#32;the&#32;actionset&#32;if&#32;it&#32;isn&apos;t&#32;active&#32;already.&#32;(will&#32;deactivate&#32;on&#32;component&#32;disable)</emphasis>
00367 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;activatedInputSource&#32;=&#32;pose.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___behaviour___pose_1a95ff5e8947fe7780543e4c5679cfba52">inputSource</link>;
00368 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;pose.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___behaviour___pose_1a7d8dfcf694264e0a7bc878bee6eaa30b">poseAction</link>.actionSet.Activate(pose.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___behaviour___pose_1a95ff5e8947fe7780543e4c5679cfba52">inputSource</link>);
00369 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00370 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00371 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00372 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00373 
00374 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;OnDisable()
00375 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00376 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(autoEnableDisableActionSet)
00377 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00378 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(activatedActionSet&#32;!=&#32;<emphasis role="keyword">null</emphasis>)&#32;<emphasis role="comment">//deactivate&#32;the&#32;action&#32;set&#32;we&#32;activated&#32;for&#32;this&#32;camera</emphasis>
00379 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00380 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;activatedActionSet.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___action_set_1ac1cf6b278cd4df49f18da3f59d8d9fc4">Deactivate</link>(activatedInputSource);
00381 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;activatedActionSet&#32;=&#32;<emphasis role="keyword">null</emphasis>;
00382 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00383 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00384 
00385 
00386 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Restore&#32;game&#32;view&#32;cameras.</emphasis>
00387 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(cameras&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00388 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00389 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;numCameras&#32;=&#32;cameras.Length;
00390 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;numCameras;&#32;i++)
00391 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00392 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;var&#32;cam&#32;=&#32;cameras[i];
00393 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(cam&#32;!=&#32;<emphasis role="keyword">null</emphasis>)
00394 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cam.rect&#32;=&#32;cameraRects[i];
00395 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00396 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cameras&#32;=&#32;<emphasis role="keyword">null</emphasis>;
00397 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cameraRects&#32;=&#32;<emphasis role="keyword">null</emphasis>;
00398 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00399 
00400 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(config.sceneResolutionScale&#32;&gt;&#32;0.0f)
00401 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00402 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___camera">SteamVR_Camera</link>.<link linkend="_class_valve_1_1_v_r_1_1_steam_v_r___camera_1a15bffee48af1ca15135cf48e33622e56">sceneResolutionScale</link>&#32;=&#32;sceneResolutionScale;
00403 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00404 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00405 &#32;&#32;&#32;&#32;}
00406 }
</programlisting></section>
